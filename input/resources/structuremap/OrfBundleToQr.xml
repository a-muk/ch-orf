<StructureMap xmlns="http://hl7.org/fhir">
   <id value="OrfBundleToQr"></id>
   <text>
      <status value="generated"></status>
      <div xmlns="http://www.w3.org/1999/xhtml">
         <pre>map "http://fhir.ch/ig/ch-orf/StructureMap/OrfBundleToQr" = "OrfBundleToQr"

// ORF Bundle To QuestionnaireResonse
// Bundle: http://build.fhir.org/ig/hl7ch/ch-orf/StructureDefinition-ch-orf-document.html
// QRF Questionnaire Response: http://build.fhir.org/ig/hl7ch/ch-orf/QuestionnaireResponse-referral-min.xml.html

uses "http://hl7.org/fhir/StructureDefinition/Bundle" alias Bundle as source
uses "http://hl7.org/fhir/StructureDefinition/Composition" alias Composition as source
uses "http://hl7.org/fhir/StructureDefinition/Patient" alias Patient as source
uses "http://hl7.org/fhir/StructureDefinition/Organization" alias Organization as source
uses "http://hl7.org/fhir/StructureDefinition/Practitioner" alias Practitioner as source
uses "http://hl7.org/fhir/StructureDefinition/PractitionerRole" alias PractitionerRole as source
uses "http://hl7.org/fhir/StructureDefinition/ServiceRequest" alias ServiceRequest as source
uses "http://hl7.org/fhir/StructureDefinition/BackboneElement" alias BackboneElement as source
uses "http://hl7.org/fhir/StructureDefinition/QuestionnaireResponse" alias QuestionnaireResponse as target

group OrfBundleToQr(source bundle : Bundle, target qr : QuestionnaireResponse) {
  bundle -&gt; qr.questionnaire = 'http://fhir.ch/ig/ch-orf/Questionnaire/order-referral-form' "questionnaire";
  bundle -&gt; qr.status = 'completed' "status";
  bundle.entry first as entry then {
    entry.resource as composition then {
      composition.section as section then {
        bundle.entry as entry then {
          entry.fullUrl where ($this in %section.entry.reference) and $this.startsWith('urn:uuid') then {
            entry.resource : ServiceRequest as serviceRequest then CompositionToQr(bundle, composition, serviceRequest, qr) "servicerequest";
          } "fullUrlAsUuid";
          entry.resource : ServiceRequest as serviceRequest where ('ServiceRequest' + '/' + $this.id) in %section.entry.reference then CompositionToQr(bundle, composition, serviceRequest, qr) "servicerequest";
        };
      };
    };
  };
}

group CompositionToQr(source bundle : Bundle, source composition : Composition, source serviceRequest : ServiceRequest, target qr : QuestionnaireResponse) {
  composition -&gt;  qr.item as item,  item.linkId = 'order' then OrderToQr(bundle, composition, serviceRequest, item) "order";
  composition.extension as ext where url = 'http://fhir.ch/ig/ch-orf/StructureDefinition/ch-orf-receiver' -&gt;  qr.item as item,  item.linkId = 'receiver' then ReceiverToQr(bundle, serviceRequest, ext, item) "receiver";
  composition.subject -&gt;  qr.item as item,  item.linkId = 'patient' then PatientToQr(bundle, composition, serviceRequest, item) "patient";
  serviceRequest.extension as ext where url = 'http://fhir.ch/ig/ch-orf/StructureDefinition/ch-orf-requestedencounterdetails' -&gt;  qr.item as item,  item.linkId = 'requestedEncounter' then RequestedEncounterDetailsToQr(bundle, ext, item) "requestedEncounter";
  serviceRequest.insurance first as insurance -&gt;  qr.item as item,  item.linkId = 'coverage' then CoverageToQr(bundle, composition, serviceRequest, item) "requestedEncounter";
  composition.author -&gt;  qr.item as item,  item.linkId = 'sender' then SenderToQr(bundle, composition, serviceRequest, item) "sender";
  composition.extension first as extension where (url = 'http://fhir.ch/ig/ch-orf/StructureDefinition/ch-orf-copyreceiver') -&gt;  qr.item as item,  item.linkId = 'receiverCopies' then ReceiverCopyToQr(bundle, composition, serviceRequest, item) "receiverCopies";
  serviceRequest.extension as ext where url = 'ch-orf-locationandtime' -&gt;  qr.item as item,  item.linkId = 'appointment' then AppointmentDetailsToQr(bundle, ext, item) "apopintments";
  serviceRequest.note first as note -&gt;  qr.item as item,  item.linkId = 'note' then NoteToQr(serviceRequest, item);
}

group OrderToQr(source bundle : Bundle, source composition : Composition, source serviceRequest : ServiceRequest, target item : BackboneElement) {
  // &lt;linkId value="order.title" /&gt;
  composition.title as title -&gt;  item.item as itemfirst,  itemfirst.linkId = 'order.title',  itemfirst.answer as answer,  answer.value = title;
  // &lt;linkId value="order.type" /&gt;
  composition.type as comptype then {
    comptype.coding as coding -&gt;  item.item as itemfirst,  itemfirst.linkId = 'order.type',  itemfirst.answer as answer,  answer.value = coding "type";
  } "CodeableConceptType";
  // &lt;linkId value="order.category" /&gt;
  composition.category as compcat then {
    compcat.coding as coding -&gt;  item.item as itemfirst,  itemfirst.linkId = 'order.category',  itemfirst.answer as answer,  answer.value = coding "category";
  } "CodeableConceptType";
  // &lt;linkId value="order.placerOrderIdentifierDomain" /&gt;
  serviceRequest.identifier as identifier where (type.coding.where((system.value = 'http://terminology.hl7.org/CodeSystem/v2-0203') and (code.value = 'PLAC'))) -&gt;  item.item as itemfirst,  itemfirst.linkId = 'order.placerOrderIdentifier',  itemfirst.answer as answer,  answer.value = (identifier.value) then {
    identifier.system as system -&gt;  item.item as itemsecond,  itemsecond.linkId = 'order.placerOrderIdentifierDomain',  itemsecond.answer as answer,  answer.value = cast(system, 'string') "placerOrderIdentifierDomain";
  } "placerOrderIdentifierDomain";
  // &lt;linkId value="order.fillerOrderIdentifier" /&gt;
  serviceRequest.identifier as identifier where (type.coding.where((system.value = 'http://terminology.hl7.org/CodeSystem/v2-0203') and (code.value = 'FILL'))) -&gt;  item.item as itemfirst,  itemfirst.linkId = 'order.fillerOrderIdentifier',  itemfirst.answer as answer,  answer.value = (identifier.value) then {
    identifier.system as system -&gt;  item.item as itemsecond,  itemsecond.linkId = 'order.fillerOrderIdentifierDomain',  itemsecond.answer as answer,  answer.value = cast(system, 'string') "fillerOrderIdentifier";
  } "fillerOrderIdentifierDomain";
  // &lt;linkId value="order.precedentDocumentIdentifier" /&gt;
  composition.extension as extension where url = 'http://fhir.ch/ig/ch-orf/StructureDefinition/ch-orf-precedentdocument' then {
    extension.value as value where value.startsWith('urn:uuid:') -&gt;  item.item as item,  item.linkId = 'order.precedentDocumentIdentifier',  item.answer as answer,  answer.value = (value.value.substring(9)) "precedentDocumentIdentifier";
  } "composition";
  // 'order.dateTime'- currently not mapped in qr response
  composition.extension as extension where url = 'http://fhir.ch/ig/ch-orf/StructureDefinition/ch-orf-urgentnoficationcontactforthisdocument' then {
    extension.value as value then {
      bundle.entry as entry then {
        entry.fullUrl where ($this in %value.reference) and $this.startsWith('urn:uuid') then {
          entry.resource : PractitionerRole as practitionerRole then UrgentNotificationToQr(bundle, composition, practitionerRole, item) "practitionerRole";
        } "fullUrlAsUuid";
        entry.resource : PractitionerRole as practitionerRole where ('PractitionerRole' + '/' + $this.id) in %value.reference then UrgentNotificationToQr(bundle, composition, practitionerRole, item) "practitionerRole";
      };
    };
  } "composition";
  // Urgent Notification Contact for the Response to this document
  composition.extension as extension where url = 'http://fhir.ch/ig/ch-orf/StructureDefinition/ch-orf-urgentnoficationcontactfortheresponsetothisdocument' then {
    extension.value as value then {
      bundle.entry as entry then {
        entry.fullUrl where ($this in %value.reference) and $this.startsWith('urn:uuid') then {
          entry.resource : PractitionerRole as practitionerRole then UrgentNotificationResponseToQr(bundle, composition, practitionerRole, item) "practitionerRole";
        } "fullUrlAsUuid";
        entry.resource : PractitionerRole as practitionerRole where ('PractitionerRole' + '/' + $this.id) in %value.reference then UrgentNotificationResponseToQr(bundle, composition, practitionerRole, item) "practitionerRole";
      };
    };
  } "composition";
  // order.priority
  serviceRequest.priority as priority -&gt;  item.item as item,  item.linkId = 'order.priority',  item.answer as answer,  answer.value = create('Coding') as coding,  coding.system = 'http://hl7.org/fhir/request-priority',  coding.code = priority;
}

group UrgentNotificationToQr(source bundle : Bundle, source composition : Composition, source practitionerRole : PractitionerRole, target item : BackboneElement) {
  composition -&gt;  item.item as itemgroup,  itemgroup.linkId = 'order.notificationContactDocument',  itemgroup.item as item,  item.linkId = 'order.notificationContactDocument.practitioner' then {
    practitionerRole.practitioner as practitioner then {
      bundle.entry as entry then {
        entry.fullUrl where ($this in %practitioner.reference) and $this.startsWith('urn:uuid') then {
          entry.resource : Practitioner as practitioner then UrgentNotificationPractitionerToQr(bundle, composition, practitioner, item) "practitioner";
        } "fullUrlAsUuid";
        entry.resource : Practitioner as practitioner where ('Practitioner' + '/' + $this.id) in %practitioner.reference then UrgentNotificationPractitionerToQr(bundle, composition, practitioner, item) "practitioner";
      };
    };
  } "urgentnotification";
}

group UrgentNotificationPractitionerToQr(source bundle : Bundle, source composition : Composition, source practitioner : Practitioner, target item : BackboneElement) {
  practitioner.name as name then {
    // order.notificationContactDocument.practitioner.title
    name.prefix as prefix where (extension.where((url = 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier') and (valueCode = 'AC'))) -&gt;  item.item as item,  item.linkId = 'order.notificationContactDocument.practitioner.title',  item.answer as answer,  answer.value = prefix;
    // order.notificationContactDocument.practitioner.familyName
    name.family as family -&gt;  item.item as item,  item.linkId = 'order.notificationContactDocument.practitioner.familyName',  item.answer as answer,  answer.value = family;
    // order.notificationContactDocument.practitioner.givenName
    name.given as given -&gt;  item.item as item,  item.linkId = 'order.notificationContactDocument.practitioner.givenName',  item.answer as answer,  answer.value = given;
  };
  // order.notificationContactDocument.practitioner.phone
  practitioner.telecom as telecom where (system = 'phone') -&gt;  item.item as item,  item.linkId = 'order.notificationContactDocument.practitioner.phone',  item.answer as answer,  answer.value = (telecom.value) "phone";
  // order.notificationContactDocument.practitioner.memaol
  practitioner.telecom as telecom where (system = 'email') -&gt;  item.item as item,  item.linkId = 'order.notificationContactDocument.practitioner.email',  item.answer as answer,  answer.value = (telecom.value) "email";
}

group UrgentNotificationResponseToQr(source bundle : Bundle, source composition : Composition, source practitionerRole : PractitionerRole, target item : BackboneElement) {
  // order.notificationContactDocumentResponse
  composition -&gt;  item.item as itemgroup,  itemgroup.linkId = 'order.notificationContactDocumentResponse',  itemgroup.item as item,  item.linkId = 'order.notificationContactDocumentResponse.practitioner' then {
    practitionerRole.practitioner as practitioner then {
      bundle.entry as entry then {
        entry.fullUrl where ($this in %practitioner.reference) and $this.startsWith('urn:uuid') then {
          entry.resource : Practitioner as practitioner then UrgentNotificationResponsePractitionerToQr(bundle, composition, practitioner, item) "practitioner";
        } "fullUrlAsUuid";
        entry.resource : Practitioner as practitioner where ('Practitioner' + '/' + $this.id) in %practitioner.reference then UrgentNotificationResponsePractitionerToQr(bundle, composition, practitioner, item) "practitioner";
      };
    };
  } "urgentnotification";
}

group UrgentNotificationResponsePractitionerToQr(source bundle : Bundle, source composition : Composition, source practitioner : Practitioner, target item : BackboneElement) {
  practitioner.name as name then {
    // order.notificationContactDocumentResponse.practitioner.title
    name.prefix as prefix where (extension.where((url = 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier') and (valueCode = 'AC'))) -&gt;  item.item as item,  item.linkId = 'order.notificationContactDocumentResponse.practitioner.title',  item.answer as answer,  answer.value = prefix;
    // order.notificationContactDocumentResponse.practitioner.familyName
    name.family as family -&gt;  item.item as item,  item.linkId = 'order.notificationContactDocumentResponse.practitioner.familyName',  item.answer as answer,  answer.value = family;
    // order.notificationContactDocumentResponse.practitioner.givenName
    name.given as given -&gt;  item.item as item,  item.linkId = 'order.notificationContactDocumentResponse.practitioner.givenName',  item.answer as answer,  answer.value = given;
  };
  // order.notificationContactDocumentResponse.practitioner.phone
  practitioner.telecom as telecom where (system = 'phone') -&gt;  item.item as item,  item.linkId = 'order.notificationContactDocumentResponse.practitioner.phone',  item.answer as answer,  answer.value = (telecom.value) "phone";
  // order.notificationContactDocumentResponse.practitioner.memaol
  practitioner.telecom as telecom where (system = 'email') -&gt;  item.item as item,  item.linkId = 'order.notificationContactDocumentResponse.practitioner.email',  item.answer as answer,  answer.value = (telecom.value) "email";
}

group ReceiverToQr(source bundle : Bundle, source composition : Composition, source ext : Extension, target item : BackboneElement) {
  bundle.entry as entry then {
    entry.fullUrl where ($this in %ext.valueReference.reference) and $this.startsWith('urn:uuid') then {
      entry.resource : PractitionerRole as practitionerRole then ReceiverPractitionerRoleToQr(bundle, composition, practitionerRole, item) "practitioner";
    } "fullUrlAsUuid";
    entry.resource : PractitionerRoler as practitionerRole where ('PractitionerRole' + '/' + $this.id) in %ext.valueReference.reference then ReceiverPractitionerRoleToQr(bundle, composition, practitionerRole, item) "practitioner";
  };
}

group ReceiverPractitionerRoleToQr(source bundle : Bundle, source composition : Composition, source practitionerRole : PractitionerRole, target itemgroup : BackboneElement) {
  practitionerRole.practitioner as practitioner -&gt;  itemgroup.item as item,  item.linkId = 'receiver.practitioner' then {
    bundle.entry as entry then {
      entry.fullUrl where ($this in %practitioner.reference) and $this.startsWith('urn:uuid') then {
        entry.resource : Practitioner as practitioner then ReceiverPractitionerToQr(bundle, composition, practitioner, item) "practitioner";
      } "fullUrlAsUuid";
      entry.resource : Practitioner as practitioner where ('Practitioner' + '/' + $this.id) in %practitioner.reference then ReceiverPractitionerToQr(bundle, composition, practitioner, item) "practitioner";
    };
  };
  practitionerRole.organization as organization -&gt;  itemgroup.item as item,  item.linkId = 'receiver.organization' then {
    bundle.entry as entry then {
      entry.fullUrl where ($this in %organization.reference) and $this.startsWith('urn:uuid') then {
        entry.resource : Organization as organization then ReceiverOrganizationToQr(bundle, composition, organization, item) "organization";
      } "fullUrlAsUuid";
      entry.resource : Organization as organization where ('Organization' + '/' + $this.id) in %organization.reference then ReceiverOrganizationToQr(bundle, composition, practitioner, item) "organization";
    };
  };
}

group ReceiverPractitionerToQr(source bundle : Bundle, source composition : Composition, source practitioner : Practitioner, target item : BackboneElement) {
  practitioner.name as name then {
    // receiver.practitioner.title
    name.prefix as prefix where (extension.where((url = 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier') and (valueCode = 'AC'))) -&gt;  item.item as item,  item.linkId = 'receiver.practitioner.title',  item.answer as answer,  answer.value = prefix;
    // receiver.practitioner.familyName
    name.family as family -&gt;  item.item as item,  item.linkId = 'receiver.practitioner.familyName',  item.answer as answer,  answer.value = family;
    // receiver.practitioner.givenName
    name.given as given -&gt;  item.item as item,  item.linkId = 'receiver.practitioner.givenName',  item.answer as answer,  answer.value = given;
  };
  // receiver.practitioner.gln
  practitioner.identifier as identifier where (system = 'urn:oid:2.51.1.3') then {
    identifier.value as value -&gt;  item.item as item,  item.linkId = 'receiver.practitioner.gln',  item.answer as answer,  answer.value = cast(value, 'string') "gln";
  };
  // receiver.practitioner.phone
  practitioner.telecom as telecom where (system = 'phone') -&gt;  item.item as item,  item.linkId = 'receiver.practitioner.phone',  item.answer as answer,  answer.value = (telecom.value) "phone";
  // receiver.practitioneremail
  practitioner.telecom as telecom where (system = 'email') -&gt;  item.item as item,  item.linkId = 'receiver.practitioner.email',  item.answer as answer,  answer.value = (telecom.value) "email";
}

group ReceiverOrganizationToQr(source bundle : Bundle, source composition : Composition, source organization : Organization, target item : BackboneElement) {
  // receiver.organization.name
  organization.name as name -&gt;  item.item as item,  item.linkId = 'receiver.organization.name',  item.answer as answer,  answer.value = name;
  // receiver.organization.streetAddressLine
  organization.address as addr then {
    addr.line first as line1 -&gt;  item.item as item,  item.linkId = 'receiver.organization.streetAddressLine' then {
      addr.line as line -&gt;  item.answer as answer,  answer.value = line;
    } "addrlinefirst";
    // receiver.organization.postalCode
    addr.postalCode as postalCode -&gt;  item.item as item,  item.linkId = 'receiver.organization.postalCode',  item.answer as answer,  answer.value = postalCode;
    // receiver.organization.city
    addr.city as city -&gt;  item.item as item,  item.linkId = 'receiver.organization.city',  item.answer as answer,  answer.value = city;
    // receiver.organization.country
    addr.country as country -&gt;  item.item as item,  item.linkId = 'receiver.organization.country',  item.answer as answer,  answer.value = country;
  } "addr";
}

group PatientToQr(source bundle : Bundle, source composition : Composition, source serviceRequest : ServiceRequest, target item : BackboneElement) {
  composition.subject as subject then {
    bundle.entry as entry then {
      entry.fullUrl where ($this in %subject.reference) and $this.startsWith('urn:uuid') then {
        entry.resource : Patient as patient then PatientDetailsToQr(bundle, composition, patient, item) "patient";
      } "fullUrlAsUuid";
      entry.resource : Patient as patient where ('Patient' + '/' + $this.id) in %subject.reference then PatientDetailsToQr(bundle, composition, patient, item) "patient";
    };
  } "practitioner";
}

group PatientDetailsToQr(source bundle : Bundle, source composition : Composition, source patient : Patient, target item : BackboneElement) {
  // patient.familyName
  patient.name as name where (use.empty() or (use = 'official')) then {
    name.family as family -&gt;  item.item as item,  item.linkId = 'patient.familyName',  item.answer as answer,  answer.value = family;
  } "familyName";
  patient.name as name where use = 'maiden' then {
    name.family as family -&gt;  item.item as item,  item.linkId = 'patient.maidenName',  item.answer as answer,  answer.value = family "maidenName";
  } "maidenName";
  patient.name as name where (use.empty() or (use = 'official')) then {
    // patient.givenName
    name.given as given -&gt;  item.item as item,  item.linkId = 'patient.givenName',  item.answer as answer,  answer.value = given;
  } "givenName";
  // patient.localPid
  patient.identifier as identifier where (type.coding.where((system.value = 'http://terminology.hl7.org/CodeSystem/v2-0203') and (code.value = 'MR'))) -&gt;  item.item as item1,  item1.linkId = 'patient.localPid',  item1.answer as answer,  answer.value = (identifier.value) then {
    identifier.system as system -&gt;  item.item as item2,  item2.linkId = 'patient.localPidDomain',  item2.answer as answer,  answer.value = cast(system, 'string') "placerOrderIdentifierDomain";
  } "localPid";
  // patient.birthDate
  patient.birthDate as birthDate -&gt;  item.item as item,  item.linkId = 'patient.birthDate',  item.answer as answer,  answer.value = birthDate;
  // patient.gender
  patient.gender as gender -&gt;  item.item as item,  item.linkId = 'patient.gender',  item.answer as answer,  answer.value = create('Coding') as coding,  coding.system = 'http://hl7.org/fhir/administrative-gender',  coding.code = gender;
  // patient.phone
  patient.telecom as telecom where (system = 'phone') -&gt;  item.item as item,  item.linkId = 'patient.phone',  item.answer as answer,  answer.value = (telecom.value) "phone";
  // patient.email
  patient.telecom as telecom where (system = 'email') -&gt;  item.item as item,  item.linkId = 'patient.email',  item.answer as answer,  answer.value = (telecom.value) "email";
  patient.address as addr then {
    addr.line first as line1 -&gt;  item.item as item,  item.linkId = 'patient.streetAddressLine' then {
      addr.line as line -&gt;  item.answer as answer,  answer.value = line;
    } "addrlinefirst";
    // patient.postalCode
    addr.postalCode as postalCode -&gt;  item.item as item,  item.linkId = 'patient.postalCode',  item.answer as answer,  answer.value = postalCode;
    // patient.city
    addr.city as city -&gt;  item.item as item,  item.linkId = 'patient.city',  item.answer as answer,  answer.value = city;
    // patient.country
    addr.country as country -&gt;  item.item as item,  item.linkId = 'patient.country',  item.answer as answer,  answer.value = country;
  } "addr";
  // patient.contactperson
  patient.contact as contact -&gt;  item.item as item,  item.linkId = 'patient.contactperson' then {
    // patient.contactperson.relationship
    contact.relationship as relationship then {
      relationship.text as text -&gt;  item.item as item,  item.linkId = 'patient.contactperson.relationship',  item.answer as answer,  answer.value = text "relationship";
    };
    contact.name as name then {
      // patient.contactperson.familyName
      name.family as family -&gt;  item.item as item,  item.linkId = 'patient.contactperson.familyName',  item.answer as answer,  answer.value = family "familyName";
      // patient.contactperson.givenName
      name.given as given -&gt;  item.item as item,  item.linkId = 'patient.contactperson.givenName',  item.answer as answer,  answer.value = given "givenName";
    };
    // patient.contactperson.phone
    contact.telecom as telecom where (system = 'phone') -&gt;  item.item as item,  item.linkId = 'patient.contactperson.phone',  item.answer as answer,  answer.value = (telecom.value) "phone";
    // patient.contactperson.email
    contact.telecom as telecom where (system = 'email') -&gt;  item.item as item,  item.linkId = 'patient.contactperson.email',  item.answer as answer,  answer.value = (telecom.value) "email";
  };
}

group RequestedEncounterDetailsToQr(source bundle : Bundle, source ext : Extension, target item : BackboneElement) {
  bundle.entry as entry then {
    entry.fullUrl where ($this in %ext.valueReference.reference) and $this.startsWith('urn:uuid') then {
      entry.resource : Encounter as encounter then EncounterToQr(encounter, item) "encounter";
    } "fullUrlAsUuid";
    entry.resource : Encounter as encounter where ('Encounter' + '/' + $this.id) in %ext.valueReference.reference then EncounterToQr(encounter, item) "encounter";
  };
}

group EncounterToQr(source encounter : Encounter, target item : BackboneElement) {
  // requestedEncounter.class
  encounter.class as class -&gt;  item.item as item,  item.linkId = 'requestedEncounter.class',  item.answer as answer,  answer.value = class;
  // requestedEncounter.desiredAccommodation
  encounter.extension as extension where url = 'http://fhir.ch/ig/ch-orf/StructureDefinition/ch-orf-desiredaccommodation' then {
    extension.value as value -&gt;  item.item as item,  item.linkId = 'requestedEncounter.desiredAccommodation',  item.answer as answer,  answer.value = value "desiredAccommodation";
  } "desiredAccommodation";
}

group AppointmentDetailsToQr(source bundle : Bundle, source ext : Extension, target item : BackboneElement) {
  bundle.entry as entry then {
    entry.fullUrl where ($this in %ext.valueReference.reference) and $this.startsWith('urn:uuid') then {
      entry.resource : Appointment as appointment then AppointmentToQr(appointment, item) "appointment";
    } "fullUrlAsUuid";
    entry.resource : Appointment as appointment where ('Appointment' + '/' + $this.id) in %ext.valueReference.reference then AppointmentToQr(appointment, item) "encounter";
  };
}

group LocationToQr(source loc : Locaton, target item : BackboneElement) {
  loc -&gt;  item.item as item,  item.linkId = 'appointment.location' then {
    // appointment.location.name
    location.name as name -&gt;  item.item as itemloc,  itemloc.linkId = 'appointment.location.name',  answer.value = name;
    // appointment.location.phone
    location.telecom as telecom where system = 'phone' -&gt;  item.item as itemloc,  itemloc.linkId = 'appointment.location.phone',  answer.value = (%telecom.value) "phone";
    // appointment.location.email
    location.telecom as telecom where system = 'email' -&gt;  item.item as itemloc,  itemloc.linkId = 'appointment.location.email',  answer.value = (%telecom.value) "email";
    location.addr as addr then {
      // appointment.location.streetAddressLine
      addr.streetAddressLine as line -&gt;  item.item as itemloc,  itemloc.linkId = 'appointment.location.streetAddressLine',  answer.value = line;
      // appointment.location.postalCode
      addr.postalCode as postalCode -&gt;  item.item as itemloc,  itemloc.linkId = 'appointment.location.postalCode',  answer.value = postalCode;
      // appointment.location.city
      addr.city as city -&gt;  item.item as itemloc,  itemloc.linkId = 'appointment.location.city',  answer.value = city;
      // appointment.location.country
      addr.country as country -&gt;  item.item as itemloc,  itemloc.linkId = 'appointment.location.country',  answer.value = country;
    };
  } "location";
}

group AppointmentToQr(source app : Appointment, target item : BackboneElement) {
  // appointment.location
  app.participant as particiapnt then {
    bundle.entry as entry then {
      entry.fullUrl where ($this in %participant.reference) and $this.startsWith('urn:uuid') then {
        entry.resource : Location as location then LocationToQr(location, item) "location";
      } "fullUrlAsUuid";
      entry.resource : Location as location where ('Location' + '/' + $this.id) in %participant.reference then LocationToQr(location, item) "location";
    };
  };
  // appointment.requestedPeriod
  app.requestedPeriod as requestedPeriod -&gt;  item.item as item,  item.linkId = 'appointment.requestedPeriod' then {
    // appointment.requestedPeriod.start
    requestedPeriod.start as start -&gt;  item.item as itemloc,  itemloc.linkId = 'appointment.requestedPeriod.start',  answer.value = start;
    // appointment.requestedPeriod.end
    requestedPeriod.end as end -&gt;  item.item as itemloc,  itemloc.linkId = 'appointment.requestedPeriod.end',  answer.value = end;
  };
  // appointment.status
  app.status as status -&gt;  item.item as itemloc,  itemloc.linkId = 'appointment.requestedPeriod.status',  answer.value = status;
  // appointment.patientInstruction
  app.patientInstruction as patientInstruction -&gt;  item.item as itemloc,  itemloc.linkId = 'appointment.patientInstruction',  answer.value = patientInstruction;
}

group CoverageBeneficiary(source patient : Patient, target item : BackboneElement) {
  patient.identifier as identifier where system = 'urn:oid:2.16.756.5.32' -&gt;  item.item as itemkvg,  itemkvg.linkId = 'coverage.beneficiary',  itemkvg.item as itemname,  itemname.linkId = 'coverage.beneficiary.ahvn13',  itemname.answer as answer,  answer.value = (%identifier.value) "ahvn13";
}

group CoverageKvg(source coverage : Coverage, target item : BackboneElement) {
  coverage -&gt;  item.item as itemkvg,  itemkvg.linkId = 'coverage.kvg',  itemkvg.item as itemname,  itemname.linkId = 'coverage.kvg.name',  itemname.answer as answer,  answer.value = (%coverage.contained.name),  itemkvg.item as itemno,  itemno.linkId = 'coverage.kvg.insuranceCardNumber',  itemno.answer as answer,  answer.value = (%coverage.identifier.value) "kvg";
}

group CoverageUvg(source coverage : Coverage, target item : BackboneElement) {
  coverage -&gt;  item.item as itemkvg,  itemkvg.linkId = 'coverage.uvg',  itemkvg.item as itemname,  itemname.linkId = 'coverage.uvg.name',  itemname.answer as answer,  answer.value = (%coverage.contained.name),  itemkvg.item as itemno,  itemno.linkId = 'coverage.uvg.claimNumber',  itemno.answer as answer,  answer.value = (%coverage.identifier.value) "uvg";
}

group CoverageVvg(source coverage : Coverage, target item : BackboneElement) {
  coverage -&gt;  item.item as itemkvg,  itemkvg.linkId = 'coverage.vvg',  itemkvg.item as itemname,  itemname.linkId = 'coverage.vvg.name',  itemname.answer as answer,  answer.value = (%coverage.contained.name),  itemkvg.item as itemno,  itemno.linkId = 'coverage.vvg.insuranceCardNumber',  itemno.answer as answer,  answer.value = (%coverage.identifier.value) "vvg";
}

group CoverageIvg(source coverage : Coverage, target item : BackboneElement) {
  coverage -&gt;  item.item as itemkvg,  itemkvg.linkId = 'coverage.iv',  itemkvg.item as itemno,  itemno.linkId = 'coverage.iv.verfuegungsnummer',  itemno.answer as answer,  answer.value = (%coverage.identifier.value) "iv";
}

group CoverageMvg(source coverage : Coverage, target item : BackboneElement) {
  coverage -&gt;  item.item as itemkvg,  itemkvg.linkId = 'coverage.mv',  itemkvg.item as itemno,  itemno.linkId = 'coverage.mv.versichertennummer',  itemno.answer as answer,  answer.value = (%coverage.identifier.value) "mv";
}

group CoverageSelf(source coverage : Coverage, target item : BackboneElement) {
  coverage -&gt;  item.item as itemkvg,  itemkvg.linkId = 'coverage.self',  itemkvg.item as itemname,  itemname.linkId = 'coverage.self.familyName',  itemname.answer as answer,  answer.value = (%coverage.contained.name.family),  itemkvg.item as itemno,  itemno.linkId = 'coverage.self.givenName',  itemno.answer as answer,  answer.value = (%coverage.contained.name.given) "uvg";
}

group CoverageOther(source coverage : Coverage, target item : BackboneElement) {
  coverage -&gt;  item.item as itemkvg,  itemkvg.linkId = 'coverage.other',  itemkvg.item as itemname,  itemname.linkId = 'coverage.other.name',  itemname.answer as answer,  answer.value = (%coverage.contained.name),  itemkvg.item as itemno,  itemno.linkId = 'coverage.other.id',  itemno.answer as answer,  answer.value = (%coverage.identifier.value) "uvg";
}

group CoverageToQr(source bundle : Bundle, source composition : Composition, source serviceRequest : ServiceRequest, target item : BackboneElement) {
  composition.subject as subject then {
    bundle.entry as entry then {
      entry.fullUrl where ($this in %subject.reference) and $this.startsWith('urn:uuid') then {
        entry.resource : Patient as patient then CoverageBeneficiary(patient, item) "patient";
      } "fullUrlAsUuid";
      entry.resource : Patient as patient where ('Patient' + '/' + $this.id) in %subject.reference then CoverageBeneficiary(patient, item) "patient";
    };
  } "practitioner";
  bundle.entry as entry then {
    entry.fullUrl where ($this in %serviceRequest.insurance.reference) and $this.startsWith('urn:uuid') then {
      entry.resource : Coverage as coverage where (type.coding.code = 'KVG') then CoverageKvg(coverage, item) "coveragekvg";
      entry.resource : Coverage as coverage where (type.coding.code = 'UVG') then CoverageUvg(coverage, item) "coverageuvg";
      entry.resource : Coverage as coverage where (type.coding.code = 'VVG') then CoverageVvg(coverage, item) "coverageVvg";
      entry.resource : Coverage as coverage where (type.coding.code = 'IVG') then CoverageIvg(coverage, item) "coverageVvg";
      entry.resource : Coverage as coverage where (type.coding.code = 'MVG') then CoverageMvg(coverage, item) "coverageVvg";
      entry.resource : Coverage as coverage where (type.coding.code = 'Self') then CoverageSelf(coverage, item) "coverageSelf";
      entry.resource : Coverage as coverage where (type.coding.code = 'Other') then CoverageOther(coverage, item) "coverageOth4r";
    } "fullUrlAsUuid";
    entry.resource : Coverage as coverage where (type.coding.code = 'KVG') and (('Coverage' + '/' + $this.id) in %serviceRequest.insurance.reference) then CoverageKvg(coverage, item) "coveragekvg";
    entry.resource : Coverage as coverage where (type.coding.code = 'UVG') and (('Coverage' + '/' + $this.id) in %serviceRequest.insurance.reference) then CoverageUvg(coverage, item) "coverageuvg";
    entry.resource : Coverage as coverage where (type.coding.code = 'VVG') and (('Coverage' + '/' + $this.id) in %serviceRequest.insurance.reference) then CoverageVvg(coverage, item) "coverageuvg";
    entry.resource : Coverage as coverage where (type.coding.code = 'IVG') and (('Coverage' + '/' + $this.id) in %serviceRequest.insurance.reference) then CoverageIvg(coverage, item) "coverageivg";
    entry.resource : Coverage as coverage where (type.coding.code = 'MVG') and (('Coverage' + '/' + $this.id) in %serviceRequest.insurance.reference) then CoverageMvg(coverage, item) "coveragemvg";
    entry.resource : Coverage as coverage where (type.coding.code = 'Self') and (('Coverage' + '/' + $this.id) in %serviceRequest.insurance.reference) then CoverageSelf(coverage, item) "coverageself";
    entry.resource : Coverage as coverage where (type.coding.code = 'Other') and (('Coverage' + '/' + $this.id) in %serviceRequest.insurance.reference) then CoverageOther(coverage, item) "coverageother";
  };
}

group SenderToQr(source bundle : Bundle, source composition : Composition, source serviceRequest : ServiceRequest, target item : BackboneElement) {
  composition.author as author then {
    bundle.entry as entry then {
      entry.fullUrl where ($this in %author.reference) and $this.startsWith('urn:uuid') then {
        entry.resource : PractitionerRole as practitionerRole then SenderPractitionerRoleToQr(bundle, composition, practitionerRole, item) "practitioner";
      } "fullUrlAsUuid";
      entry.resource : PractitionerRoler as practitionerRole where ('PractitionerRole' + '/' + $this.id) in %author.reference then SenderPractitionerRoleToQr(bundle, composition, practitionerRole, item) "practitioner";
    };
  };
  composition.extension as ext where (url = 'http://fhir.ch/ig/ch-core/StructureDefinition/ch-ext-epr-dataenterer') then {
    ext.extension as extension where (url = 'enterer') then {
      extension.value as value then {
        bundle.entry as entry then {
          entry.fullUrl where ($this in %value.reference) and $this.startsWith('urn:uuid') then {
            entry.resource : PractitionerRole as practitionerRole then DataEntererPractitionerRoleToQr(bundle, composition, practitionerRole, item) "practitionerRole";
          } "fullUrlAsUuid";
          entry.resource : PractitionerRole as practitionerRole where ('PractitionerRole' + '/' + $this.id) in %value.reference then DataEntererPractitionerRoleToQr(bundle, composition, practitionerRole, item) "practitionerRole";
        };
      };
    } "enterer";
  } "dataenterer";
}

group SenderPractitionerRoleToQr(source bundle : Bundle, source composition : Composition, source practitionerRole : PractitionerRole, target itemsender : BackboneElement) {
  composition -&gt;  itemsender.item as itemgroup,  itemgroup.linkId = 'sender.author' then {
    practitionerRole.practitioner as practitioner -&gt;  itemgroup.item as item,  item.linkId = 'sender.author.practitioner' then {
      bundle.entry as entry then {
        entry.fullUrl where ($this in %practitioner.reference) and $this.startsWith('urn:uuid') then {
          entry.resource : Practitioner as practitioner then SenderPractitionerToQr(bundle, composition, practitioner, item) "practitioner";
        } "fullUrlAsUuid";
        entry.resource : Practitioner as practitioner where ('Practitioner' + '/' + $this.id) in %practitioner.reference then SenderPractitionerToQr(bundle, composition, practitioner, item) "practitioner";
      };
    };
    practitionerRole.organization as organization -&gt;  itemgroup.item as item,  item.linkId = 'sender.author.organization' then {
      bundle.entry as entry then {
        entry.fullUrl where ($this in %organization.reference) and $this.startsWith('urn:uuid') then {
          entry.resource : Organization as organization then SenderOrganizationToQr(bundle, composition, organization, item) "organization";
        } "fullUrlAsUuid";
        entry.resource : Organization as organization where ('Organization' + '/' + $this.id) in %organization.reference then SenderOrganizationToQr(bundle, composition, practitioner, item) "organization";
      };
    };
  } "author";
}

group SenderPractitionerToQr(source bundle : Bundle, source composition : Composition, source practitioner : Practitioner, target item : BackboneElement) {
  practitioner.name as name then {
    // sender.author.practitioner.title
    name.prefix as prefix where (extension.where((url = 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier') and (valueCode = 'AC'))) -&gt;  item.item as item,  item.linkId = 'sender.author.practitioner.title',  item.answer as answer,  answer.value = prefix;
    // sender.author.practitioner.familyName
    name.family as family -&gt;  item.item as item,  item.linkId = 'sender.author.practitioner.familyName',  item.answer as answer,  answer.value = family;
    // sender.author.practitioner.givenName
    name.given as given -&gt;  item.item as item,  item.linkId = 'sender.author.practitioner.givenName',  item.answer as answer,  answer.value = given;
  };
  // sender.author.practitioner.gln
  practitioner.identifier as identifier where (system = 'urn:oid:2.51.1.3') then {
    identifier.value as value -&gt;  item.item as item,  item.linkId = 'sender.author.practitioner.gln',  item.answer as answer,  answer.value = cast(value, 'string') "gln";
  };
  // sender.author.practitioner.phone
  practitioner.telecom as telecom where (system = 'phone') -&gt;  item.item as item,  item.linkId = 'sender.author.practitioner.phone',  item.answer as answer,  answer.value = (telecom.value) "phone";
  // sender.author.practitioneremila
  practitioner.telecom as telecom where (system = 'email') -&gt;  item.item as item,  item.linkId = 'sender.author.practitioner.email',  item.answer as answer,  answer.value = (telecom.value) "email";
}

group SenderOrganizationToQr(source bundle : Bundle, source composition : Composition, source organization : Organization, target item : BackboneElement) {
  // sender.author.organization.name
  organization.name as name -&gt;  item.item as item,  item.linkId = 'sender.author.organization.name',  item.answer as answer,  answer.value = name;
  // sender.author.organization.streetAddressLine
  organization.address as addr then {
    addr.line first as line1 -&gt;  item.item as item,  item.linkId = 'sender.author.organization.streetAddressLine' then {
      addr.line as line -&gt;  item.answer as answer,  answer.value = line;
    } "addrlinefirst";
    // sender.author.organization.postalCode
    addr.postalCode as postalCode -&gt;  item.item as item,  item.linkId = 'sender.author.organization.postalCode',  item.answer as answer,  answer.value = postalCode;
    // sender.author.organization.city
    addr.city as city -&gt;  item.item as item,  item.linkId = 'sender.author.organization.city',  item.answer as answer,  answer.value = city;
    // sender.author.organization.country
    addr.country as country -&gt;  item.item as item,  item.linkId = 'sender.author.organization.country',  item.answer as answer,  answer.value = country;
  } "addr";
}

group DataEntererPractitionerRoleToQr(source bundle : Bundle, source composition : Composition, source practitionerRole : PractitionerRole, target itemsender : BackboneElement) {
  composition -&gt;  itemsender.item as itemgroup,  itemgroup.linkId = 'sender.dataenterer' then {
    practitionerRole.practitioner as practitioner -&gt;  itemgroup.item as item,  item.linkId = 'sender.dataenterer.practitioner' then {
      bundle.entry as entry then {
        entry.fullUrl where ($this in %practitioner.reference) and $this.startsWith('urn:uuid') then {
          entry.resource : Practitioner as practitioner then DataEntererPractitionerToQr(bundle, composition, practitioner, item) "practitioner";
        } "fullUrlAsUuid";
        entry.resource : Practitioner as practitioner where ('Practitioner' + '/' + $this.id) in %practitioner.reference then DataEntererPractitionerToQr(bundle, composition, practitioner, item) "practitioner";
      };
    };
  } "dataenterer";
}

group DataEntererPractitionerToQr(source bundle : Bundle, source composition : Composition, source practitioner : Practitioner, target item : BackboneElement) {
  // sender.dataenterer.practitioner.familyName
  practitioner.name as name then {
    name.family as family -&gt;  item.item as item,  item.linkId = 'sender.dataenterer.practitioner.familyName',  item.answer as answer,  answer.value = family;
    // sender.dataenterer.practitioner.givenName
    name.given as given -&gt;  item.item as item,  item.linkId = 'sender.dataenterer.practitioner.givenName',  item.answer as answer,  answer.value = given;
  };
  // sender.dataenterer.practitioner.phone
  practitioner.telecom as telecom where (system = 'phone') -&gt;  item.item as item,  item.linkId = 'sender.dataenterer.practitioner.phone',  item.answer as answer,  answer.value = (telecom.value) "phone";
  // sender.dataenterer.practitioner.email
  practitioner.telecom as telecom where (system = 'email') -&gt;  item.item as item,  item.linkId = 'sender.dataenterer.practitioner.email',  item.answer as answer,  answer.value = (telecom.value) "email";
}

group ReceiverCopyToQr(source bundle : Bundle, source composition : Composition, source serviceRequest : ServiceRequest, target item : BackboneElement) {
  composition.extension as extension where (url = 'http://fhir.ch/ig/ch-orf/StructureDefinition/ch-orf-copyreceiver') then {
    extension.value as value then {
      bundle.entry as entry then {
        entry.fullUrl where ($this in %value.reference) and $this.startsWith('urn:uuid') then {
          entry.resource : Organization as organization then ReceiverCopyOrganizationToQr(bundle, composition, organization, item) "organization";
          entry.resource : Patient as patient then ReceiverCopyPatientToQr(bundle, composition, patient, item) "patient";
        } "fullUrlAsUuid";
        entry.resource : Organization as organization where ('Organization' + '/' + $this.id) in %value.reference then ReceiverCopyOrganizationToQr(bundle, composition, organization, item) "organization";
        entry.resource : Patient as patient where ('Patient' + '/' + $this.id) in %value.reference then ReceiverCopyPatientToQr(bundle, composition, patient, item) "patient";
      };
    };
  };
}

group ReceiverCopyOrganizationToQr(source bundle : Bundle, source composition : Composition, source organization : Organization, target itemsender : BackboneElement) {
  organization -&gt;  itemsender.item as item,  item.linkId = 'receiverCopy' then {
    // receiverCopy.organization.name
    organization.name as name -&gt;  item.item as item,  item.linkId = 'receiverCopy.organization.name',  item.answer as answer,  answer.value = name;
    organization.contact as contact then {
      contact.name as name then {
        // receiverCopy.title
        name.prefix as prefix where (extension.where((url = 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier') and (valueCode = 'AC'))) -&gt;  item.item as item,  item.linkId = 'receiverCopy.title',  item.answer as answer,  answer.value = prefix;
        // receiverCopy.familyName
        name.family as family -&gt;  item.item as item,  item.linkId = 'receiverCopy.familyName',  item.answer as answer,  answer.value = family;
        // receiverCopy.givenName
        name.given as given -&gt;  item.item as item,  item.linkId = 'receiverCopy.givenName',  item.answer as answer,  answer.value = given;
      };
    };
    // receiverCopy.phone
    organization.telecom as telecom where (system = 'phone') -&gt;  item.item as item,  item.linkId = 'receiverCopy.phone',  item.answer as answer,  answer.value = (telecom.value) "phone";
    // receiverCopy.email
    organization.telecom as telecom where (system = 'email') -&gt;  item.item as item,  item.linkId = 'receiverCopy.email',  item.answer as answer,  answer.value = (telecom.value) "email";
    // receiverCopy.organization.streetAddressLine
    organization.address as addr then {
      addr.line first as line1 -&gt;  item.item as item,  item.linkId = 'receiverCopy.streetAddressLine' then {
        addr.line as line -&gt;  item.answer as answer,  answer.value = line;
      } "addrlinefirst";
      // receiverCopy.postalCode
      addr.postalCode as postalCode -&gt;  item.item as item,  item.linkId = 'receiverCopy.postalCode',  item.answer as answer,  answer.value = postalCode;
      // receiverCopy.city
      addr.city as city -&gt;  item.item as item,  item.linkId = 'receiverCopy.city',  item.answer as answer,  answer.value = city;
      // receiverCopy.country
      addr.country as country -&gt;  item.item as item,  item.linkId = 'receiverCopy.country',  item.answer as answer,  answer.value = country;
    } "addr";
  } "organization";
}

group ReceiverCopyPatientToQr(source bundle : Bundle, source composition : Composition, source patient : Patient, target itemsender : BackboneElement) {
  patient -&gt;  itemsender.item as item,  item.linkId = 'receiverCopy' then {
    patient.name as name then {
      // receiverCopy.familyName
      name.family as family -&gt;  item.item as item,  item.linkId = 'receiverCopy.familyName',  item.answer as answer,  answer.value = family;
      // receiverCopy.givenName
      name.given as given -&gt;  item.item as item,  item.linkId = 'receiverCopy.givenName',  item.answer as answer,  answer.value = given;
      // receiverCopy.title
      name.prefix as prefix where (extension.where((url = 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier') and (valueCode = 'AC'))) -&gt;  item.item as item,  item.linkId = 'receiverCopy.title',  item.answer as answer,  answer.value = prefix;
    };
    // receiverCopy.phone
    patient.telecom as telecom where (system = 'phone') -&gt;  item.item as item,  item.linkId = 'receiverCopy.phone',  item.answer as answer,  answer.value = (telecom.value) "phone";
    // receiverCopy.email
    patient.telecom as telecom where (system = 'email') -&gt;  item.item as item,  item.linkId = 'receiverCopy.email',  item.answer as answer,  answer.value = (telecom.value) "email";
    // receiverCopy.organization.streetAddressLine
    patient.address as addr then {
      addr.line first as line1 -&gt;  item.item as item,  item.linkId = 'receiverCopy.streetAddressLine' then {
        addr.line as line -&gt;  item.answer as answer,  answer.value = line;
      } "addrlinefirst";
      // receiverCopy.postalCode
      addr.postalCode as postalCode -&gt;  item.item as item,  item.linkId = 'receiverCopy.postalCode',  item.answer as answer,  answer.value = postalCode;
      // receiverCopy.city
      addr.city as city -&gt;  item.item as item,  item.linkId = 'receiverCopy.city',  item.answer as answer,  answer.value = city;
      // receiverCopy.country
      addr.country as country -&gt;  item.item as item,  item.linkId = 'receiverCopy.country',  item.answer as answer,  answer.value = country;
    } "addr";
  } "patient";
}

group NoteToQr(source serviceRequest : ServiceRequest, target item : BackboneElement) {
  serviceRequest.note as note then {
    note.text as text -&gt;  item.item as item,  item.linkId = 'note.text',  item.answer as answer,  answer.value = cast(text, 'string');
  };
}

</pre>
      </div>
   </text>
   <url value="http://fhir.ch/ig/ch-orf/StructureMap/OrfBundleToQr"></url>
   <name value="OrfBundleToQr"></name>
   <description value="ORF Bundle To QuestionnaireResonse
Bundle: http://build.fhir.org/ig/hl7ch/ch-orf/StructureDefinition-ch-orf-document.html
QRF Questionnaire Response: http://build.fhir.org/ig/hl7ch/ch-orf/QuestionnaireResponse-referral-min.xml.html"></description>
   <structure>
      <url value="http://hl7.org/fhir/StructureDefinition/Bundle"></url>
      <mode value="source"></mode>
      <alias value="Bundle"></alias>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/StructureDefinition/Composition"></url>
      <mode value="source"></mode>
      <alias value="Composition"></alias>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/StructureDefinition/Patient"></url>
      <mode value="source"></mode>
      <alias value="Patient"></alias>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/StructureDefinition/Organization"></url>
      <mode value="source"></mode>
      <alias value="Organization"></alias>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/StructureDefinition/Practitioner"></url>
      <mode value="source"></mode>
      <alias value="Practitioner"></alias>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/StructureDefinition/PractitionerRole"></url>
      <mode value="source"></mode>
      <alias value="PractitionerRole"></alias>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/StructureDefinition/ServiceRequest"></url>
      <mode value="source"></mode>
      <alias value="ServiceRequest"></alias>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/StructureDefinition/BackboneElement"></url>
      <mode value="source"></mode>
      <alias value="BackboneElement"></alias>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/StructureDefinition/QuestionnaireResponse"></url>
      <mode value="target"></mode>
      <alias value="QuestionnaireResponse"></alias>
   </structure>
   <group>
      <name value="OrfBundleToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="qr"></name>
         <type value="QuestionnaireResponse"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="questionnaire"></name>
         <source>
            <context value="bundle"></context>
         </source>
         <target>
            <context value="qr"></context>
            <contextType value="variable"></contextType>
            <element value="questionnaire"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="http://fhir.ch/ig/ch-orf/Questionnaire/order-referral-form"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="status"></name>
         <source>
            <context value="bundle"></context>
         </source>
         <target>
            <context value="qr"></context>
            <contextType value="variable"></contextType>
            <element value="status"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="completed"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="bundle.entry"></name>
         <source>
            <context value="bundle"></context>
            <element value="entry"></element>
            <listMode value="first"></listMode>
            <variable value="entry"></variable>
         </source>
         <rule>
            <name value="entry.resource"></name>
            <source>
               <context value="entry"></context>
               <element value="resource"></element>
               <variable value="composition"></variable>
            </source>
            <rule>
               <name value="composition.section"></name>
               <source>
                  <context value="composition"></context>
                  <element value="section"></element>
                  <variable value="section"></variable>
               </source>
               <rule>
                  <name value="bundle.entry"></name>
                  <source>
                     <context value="bundle"></context>
                     <element value="entry"></element>
                     <variable value="entry"></variable>
                  </source>
                  <rule>
                     <name value="fullUrlAsUuid"></name>
                     <source>
                        <context value="entry"></context>
                        <element value="fullUrl"></element>
                        <condition value="($this in %section.entry.reference) and $this.startsWith('urn:uuid')"></condition>
                     </source>
                     <rule>
                        <name value="servicerequest"></name>
                        <source>
                           <context value="entry"></context>
                           <type value="ServiceRequest"></type>
                           <element value="resource"></element>
                           <variable value="serviceRequest"></variable>
                        </source>
                        <dependent>
                           <name value="CompositionToQr"></name>
                           <variable value="bundle"></variable>
                           <variable value="composition"></variable>
                           <variable value="serviceRequest"></variable>
                           <variable value="qr"></variable>
                        </dependent>
                     </rule>
                  </rule>
                  <rule>
                     <name value="servicerequest"></name>
                     <source>
                        <context value="entry"></context>
                        <type value="ServiceRequest"></type>
                        <element value="resource"></element>
                        <variable value="serviceRequest"></variable>
                        <condition value="('ServiceRequest' + '/' + $this.id) in %section.entry.reference"></condition>
                     </source>
                     <dependent>
                        <name value="CompositionToQr"></name>
                        <variable value="bundle"></variable>
                        <variable value="composition"></variable>
                        <variable value="serviceRequest"></variable>
                        <variable value="qr"></variable>
                     </dependent>
                  </rule>
               </rule>
            </rule>
         </rule>
      </rule>
   </group>
   <group>
      <name value="CompositionToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="serviceRequest"></name>
         <type value="ServiceRequest"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="qr"></name>
         <type value="QuestionnaireResponse"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="order"></name>
         <source>
            <context value="composition"></context>
         </source>
         <target>
            <context value="qr"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="order"></valueString>
            </parameter>
         </target>
         <dependent>
            <name value="OrderToQr"></name>
            <variable value="bundle"></variable>
            <variable value="composition"></variable>
            <variable value="serviceRequest"></variable>
            <variable value="item"></variable>
         </dependent>
      </rule>
      <rule>
         <name value="receiver"></name>
         <source>
            <context value="composition"></context>
            <element value="extension"></element>
            <variable value="ext"></variable>
            <condition value="url = 'http://fhir.ch/ig/ch-orf/StructureDefinition/ch-orf-receiver'"></condition>
         </source>
         <target>
            <context value="qr"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="receiver"></valueString>
            </parameter>
         </target>
         <dependent>
            <name value="ReceiverToQr"></name>
            <variable value="bundle"></variable>
            <variable value="serviceRequest"></variable>
            <variable value="ext"></variable>
            <variable value="item"></variable>
         </dependent>
      </rule>
      <rule>
         <name value="patient"></name>
         <source>
            <context value="composition"></context>
            <element value="subject"></element>
         </source>
         <target>
            <context value="qr"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="patient"></valueString>
            </parameter>
         </target>
         <dependent>
            <name value="PatientToQr"></name>
            <variable value="bundle"></variable>
            <variable value="composition"></variable>
            <variable value="serviceRequest"></variable>
            <variable value="item"></variable>
         </dependent>
      </rule>
      <rule>
         <name value="requestedEncounter"></name>
         <source>
            <context value="serviceRequest"></context>
            <element value="extension"></element>
            <variable value="ext"></variable>
            <condition value="url = 'http://fhir.ch/ig/ch-orf/StructureDefinition/ch-orf-requestedencounterdetails'"></condition>
         </source>
         <target>
            <context value="qr"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="requestedEncounter"></valueString>
            </parameter>
         </target>
         <dependent>
            <name value="RequestedEncounterDetailsToQr"></name>
            <variable value="bundle"></variable>
            <variable value="ext"></variable>
            <variable value="item"></variable>
         </dependent>
      </rule>
      <rule>
         <name value="requestedEncounter"></name>
         <source>
            <context value="serviceRequest"></context>
            <element value="insurance"></element>
            <listMode value="first"></listMode>
            <variable value="insurance"></variable>
         </source>
         <target>
            <context value="qr"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage"></valueString>
            </parameter>
         </target>
         <dependent>
            <name value="CoverageToQr"></name>
            <variable value="bundle"></variable>
            <variable value="composition"></variable>
            <variable value="serviceRequest"></variable>
            <variable value="item"></variable>
         </dependent>
      </rule>
      <rule>
         <name value="sender"></name>
         <source>
            <context value="composition"></context>
            <element value="author"></element>
         </source>
         <target>
            <context value="qr"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="sender"></valueString>
            </parameter>
         </target>
         <dependent>
            <name value="SenderToQr"></name>
            <variable value="bundle"></variable>
            <variable value="composition"></variable>
            <variable value="serviceRequest"></variable>
            <variable value="item"></variable>
         </dependent>
      </rule>
      <rule>
         <name value="receiverCopies"></name>
         <source>
            <context value="composition"></context>
            <element value="extension"></element>
            <listMode value="first"></listMode>
            <variable value="extension"></variable>
            <condition value="(url = 'http://fhir.ch/ig/ch-orf/StructureDefinition/ch-orf-copyreceiver')"></condition>
         </source>
         <target>
            <context value="qr"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="receiverCopies"></valueString>
            </parameter>
         </target>
         <dependent>
            <name value="ReceiverCopyToQr"></name>
            <variable value="bundle"></variable>
            <variable value="composition"></variable>
            <variable value="serviceRequest"></variable>
            <variable value="item"></variable>
         </dependent>
      </rule>
      <rule>
         <name value="apopintments"></name>
         <source>
            <context value="serviceRequest"></context>
            <element value="extension"></element>
            <variable value="ext"></variable>
            <condition value="url = 'ch-orf-locationandtime'"></condition>
         </source>
         <target>
            <context value="qr"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="appointment"></valueString>
            </parameter>
         </target>
         <dependent>
            <name value="AppointmentDetailsToQr"></name>
            <variable value="bundle"></variable>
            <variable value="ext"></variable>
            <variable value="item"></variable>
         </dependent>
      </rule>
      <rule>
         <name value="note"></name>
         <source>
            <context value="serviceRequest"></context>
            <element value="note"></element>
            <listMode value="first"></listMode>
            <variable value="note"></variable>
         </source>
         <target>
            <context value="qr"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="note"></valueString>
            </parameter>
         </target>
         <dependent>
            <name value="NoteToQr"></name>
            <variable value="serviceRequest"></variable>
            <variable value="item"></variable>
         </dependent>
      </rule>
   </group>
   <group>
      <name value="OrderToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="serviceRequest"></name>
         <type value="ServiceRequest"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="order.title"></name>
         <source>
            <context value="composition"></context>
            <element value="title"></element>
            <variable value="title"></variable>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemfirst"></variable>
         </target>
         <target>
            <context value="itemfirst"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="order.title"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemfirst"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueId value="title"></valueId>
            </parameter>
         </target>
         <documentation value="&lt;linkId value=&quot;order.title&quot; /&gt;"></documentation>
      </rule>
      <rule>
         <name value="CodeableConceptType"></name>
         <source>
            <context value="composition"></context>
            <element value="type"></element>
            <variable value="comptype"></variable>
         </source>
         <rule>
            <name value="order.type"></name>
            <source>
               <context value="comptype"></context>
               <element value="coding"></element>
               <variable value="coding"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="itemfirst"></variable>
            </target>
            <target>
               <context value="itemfirst"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="order.type"></valueString>
               </parameter>
            </target>
            <target>
               <context value="itemfirst"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="coding"></valueId>
               </parameter>
            </target>
         </rule>
         <documentation value="&lt;linkId value=&quot;order.type&quot; /&gt;"></documentation>
      </rule>
      <rule>
         <name value="CodeableConceptType"></name>
         <source>
            <context value="composition"></context>
            <element value="category"></element>
            <variable value="compcat"></variable>
         </source>
         <rule>
            <name value="order.category"></name>
            <source>
               <context value="compcat"></context>
               <element value="coding"></element>
               <variable value="coding"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="itemfirst"></variable>
            </target>
            <target>
               <context value="itemfirst"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="order.category"></valueString>
               </parameter>
            </target>
            <target>
               <context value="itemfirst"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="coding"></valueId>
               </parameter>
            </target>
         </rule>
         <documentation value="&lt;linkId value=&quot;order.category&quot; /&gt;"></documentation>
      </rule>
      <rule>
         <name value="order.placerOrderIdentifierDomain"></name>
         <source>
            <context value="serviceRequest"></context>
            <element value="identifier"></element>
            <variable value="identifier"></variable>
            <condition value="(type.coding.where((system.value = 'http://terminology.hl7.org/CodeSystem/v2-0203') and (code.value = 'PLAC')))"></condition>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemfirst"></variable>
         </target>
         <target>
            <context value="itemfirst"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="order.placerOrderIdentifier"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemfirst"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="identifier.value"></valueString>
            </parameter>
         </target>
         <rule>
            <name value="order.placerOrderIdentifierDomain"></name>
            <source>
               <context value="identifier"></context>
               <element value="system"></element>
               <variable value="system"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="itemsecond"></variable>
            </target>
            <target>
               <context value="itemsecond"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="order.placerOrderIdentifierDomain"></valueString>
               </parameter>
            </target>
            <target>
               <context value="itemsecond"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="cast"></transform>
               <parameter>
                  <valueId value="system"></valueId>
               </parameter>
               <parameter>
                  <valueString value="string"></valueString>
               </parameter>
            </target>
         </rule>
         <documentation value="&lt;linkId value=&quot;order.placerOrderIdentifierDomain&quot; /&gt;"></documentation>
      </rule>
      <rule>
         <name value="order.fillerOrderIdentifierDomain"></name>
         <source>
            <context value="serviceRequest"></context>
            <element value="identifier"></element>
            <variable value="identifier"></variable>
            <condition value="(type.coding.where((system.value = 'http://terminology.hl7.org/CodeSystem/v2-0203') and (code.value = 'FILL')))"></condition>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemfirst"></variable>
         </target>
         <target>
            <context value="itemfirst"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="order.fillerOrderIdentifier"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemfirst"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="identifier.value"></valueString>
            </parameter>
         </target>
         <rule>
            <name value="order.fillerOrderIdentifier"></name>
            <source>
               <context value="identifier"></context>
               <element value="system"></element>
               <variable value="system"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="itemsecond"></variable>
            </target>
            <target>
               <context value="itemsecond"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="order.fillerOrderIdentifierDomain"></valueString>
               </parameter>
            </target>
            <target>
               <context value="itemsecond"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="cast"></transform>
               <parameter>
                  <valueId value="system"></valueId>
               </parameter>
               <parameter>
                  <valueString value="string"></valueString>
               </parameter>
            </target>
         </rule>
         <documentation value="&lt;linkId value=&quot;order.fillerOrderIdentifier&quot; /&gt;"></documentation>
      </rule>
      <rule>
         <name value="composition"></name>
         <source>
            <context value="composition"></context>
            <element value="extension"></element>
            <variable value="extension"></variable>
            <condition value="url = 'http://fhir.ch/ig/ch-orf/StructureDefinition/ch-orf-precedentdocument'"></condition>
         </source>
         <rule>
            <name value="order.precedentDocumentIdentifier"></name>
            <source>
               <context value="extension"></context>
               <element value="value"></element>
               <variable value="value"></variable>
               <condition value="value.startsWith('urn:uuid:')"></condition>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="order.precedentDocumentIdentifier"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="evaluate"></transform>
               <parameter>
                  <valueString value="value.value.substring(9)"></valueString>
               </parameter>
            </target>
         </rule>
         <documentation value="&lt;linkId value=&quot;order.precedentDocumentIdentifier&quot; /&gt;"></documentation>
      </rule>
      <rule>
         <name value="composition"></name>
         <source>
            <context value="composition"></context>
            <element value="extension"></element>
            <variable value="extension"></variable>
            <condition value="url = 'http://fhir.ch/ig/ch-orf/StructureDefinition/ch-orf-urgentnoficationcontactforthisdocument'"></condition>
         </source>
         <rule>
            <name value="extension.value"></name>
            <source>
               <context value="extension"></context>
               <element value="value"></element>
               <variable value="value"></variable>
            </source>
            <rule>
               <name value="bundle.entry"></name>
               <source>
                  <context value="bundle"></context>
                  <element value="entry"></element>
                  <variable value="entry"></variable>
               </source>
               <rule>
                  <name value="fullUrlAsUuid"></name>
                  <source>
                     <context value="entry"></context>
                     <element value="fullUrl"></element>
                     <condition value="($this in %value.reference) and $this.startsWith('urn:uuid')"></condition>
                  </source>
                  <rule>
                     <name value="practitionerRole"></name>
                     <source>
                        <context value="entry"></context>
                        <type value="PractitionerRole"></type>
                        <element value="resource"></element>
                        <variable value="practitionerRole"></variable>
                     </source>
                     <dependent>
                        <name value="UrgentNotificationToQr"></name>
                        <variable value="bundle"></variable>
                        <variable value="composition"></variable>
                        <variable value="practitionerRole"></variable>
                        <variable value="item"></variable>
                     </dependent>
                  </rule>
               </rule>
               <rule>
                  <name value="practitionerRole"></name>
                  <source>
                     <context value="entry"></context>
                     <type value="PractitionerRole"></type>
                     <element value="resource"></element>
                     <variable value="practitionerRole"></variable>
                     <condition value="('PractitionerRole' + '/' + $this.id) in %value.reference"></condition>
                  </source>
                  <dependent>
                     <name value="UrgentNotificationToQr"></name>
                     <variable value="bundle"></variable>
                     <variable value="composition"></variable>
                     <variable value="practitionerRole"></variable>
                     <variable value="item"></variable>
                  </dependent>
               </rule>
            </rule>
         </rule>
         <documentation value="'order.dateTime'- currently not mapped in qr response"></documentation>
      </rule>
      <rule>
         <name value="composition"></name>
         <source>
            <context value="composition"></context>
            <element value="extension"></element>
            <variable value="extension"></variable>
            <condition value="url = 'http://fhir.ch/ig/ch-orf/StructureDefinition/ch-orf-urgentnoficationcontactfortheresponsetothisdocument'"></condition>
         </source>
         <rule>
            <name value="extension.value"></name>
            <source>
               <context value="extension"></context>
               <element value="value"></element>
               <variable value="value"></variable>
            </source>
            <rule>
               <name value="bundle.entry"></name>
               <source>
                  <context value="bundle"></context>
                  <element value="entry"></element>
                  <variable value="entry"></variable>
               </source>
               <rule>
                  <name value="fullUrlAsUuid"></name>
                  <source>
                     <context value="entry"></context>
                     <element value="fullUrl"></element>
                     <condition value="($this in %value.reference) and $this.startsWith('urn:uuid')"></condition>
                  </source>
                  <rule>
                     <name value="practitionerRole"></name>
                     <source>
                        <context value="entry"></context>
                        <type value="PractitionerRole"></type>
                        <element value="resource"></element>
                        <variable value="practitionerRole"></variable>
                     </source>
                     <dependent>
                        <name value="UrgentNotificationResponseToQr"></name>
                        <variable value="bundle"></variable>
                        <variable value="composition"></variable>
                        <variable value="practitionerRole"></variable>
                        <variable value="item"></variable>
                     </dependent>
                  </rule>
               </rule>
               <rule>
                  <name value="practitionerRole"></name>
                  <source>
                     <context value="entry"></context>
                     <type value="PractitionerRole"></type>
                     <element value="resource"></element>
                     <variable value="practitionerRole"></variable>
                     <condition value="('PractitionerRole' + '/' + $this.id) in %value.reference"></condition>
                  </source>
                  <dependent>
                     <name value="UrgentNotificationResponseToQr"></name>
                     <variable value="bundle"></variable>
                     <variable value="composition"></variable>
                     <variable value="practitionerRole"></variable>
                     <variable value="item"></variable>
                  </dependent>
               </rule>
            </rule>
         </rule>
         <documentation value="Urgent Notification Contact for the Response to this document"></documentation>
      </rule>
      <rule>
         <name value="order.priority"></name>
         <source>
            <context value="serviceRequest"></context>
            <element value="priority"></element>
            <variable value="priority"></variable>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="order.priority"></valueString>
            </parameter>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <variable value="coding"></variable>
            <transform value="create"></transform>
            <parameter>
               <valueString value="Coding"></valueString>
            </parameter>
         </target>
         <target>
            <context value="coding"></context>
            <contextType value="variable"></contextType>
            <element value="system"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="http://hl7.org/fhir/request-priority"></valueString>
            </parameter>
         </target>
         <target>
            <context value="coding"></context>
            <contextType value="variable"></contextType>
            <element value="code"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueId value="priority"></valueId>
            </parameter>
         </target>
         <documentation value="order.priority"></documentation>
      </rule>
   </group>
   <group>
      <name value="UrgentNotificationToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="practitionerRole"></name>
         <type value="PractitionerRole"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="urgentnotification"></name>
         <source>
            <context value="composition"></context>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemgroup"></variable>
         </target>
         <target>
            <context value="itemgroup"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="order.notificationContactDocument"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemgroup"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="order.notificationContactDocument.practitioner"></valueString>
            </parameter>
         </target>
         <rule>
            <name value="practitioner"></name>
            <source>
               <context value="practitionerRole"></context>
               <element value="practitioner"></element>
               <variable value="practitioner"></variable>
            </source>
            <rule>
               <name value="bundle.entry"></name>
               <source>
                  <context value="bundle"></context>
                  <element value="entry"></element>
                  <variable value="entry"></variable>
               </source>
               <rule>
                  <name value="fullUrlAsUuid"></name>
                  <source>
                     <context value="entry"></context>
                     <element value="fullUrl"></element>
                     <condition value="($this in %practitioner.reference) and $this.startsWith('urn:uuid')"></condition>
                  </source>
                  <rule>
                     <name value="practitioner"></name>
                     <source>
                        <context value="entry"></context>
                        <type value="Practitioner"></type>
                        <element value="resource"></element>
                        <variable value="practitioner"></variable>
                     </source>
                     <dependent>
                        <name value="UrgentNotificationPractitionerToQr"></name>
                        <variable value="bundle"></variable>
                        <variable value="composition"></variable>
                        <variable value="practitioner"></variable>
                        <variable value="item"></variable>
                     </dependent>
                  </rule>
               </rule>
               <rule>
                  <name value="practitioner"></name>
                  <source>
                     <context value="entry"></context>
                     <type value="Practitioner"></type>
                     <element value="resource"></element>
                     <variable value="practitioner"></variable>
                     <condition value="('Practitioner' + '/' + $this.id) in %practitioner.reference"></condition>
                  </source>
                  <dependent>
                     <name value="UrgentNotificationPractitionerToQr"></name>
                     <variable value="bundle"></variable>
                     <variable value="composition"></variable>
                     <variable value="practitioner"></variable>
                     <variable value="item"></variable>
                  </dependent>
               </rule>
            </rule>
         </rule>
      </rule>
   </group>
   <group>
      <name value="UrgentNotificationPractitionerToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="practitioner"></name>
         <type value="Practitioner"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="name"></name>
         <source>
            <context value="practitioner"></context>
            <element value="name"></element>
            <variable value="name"></variable>
         </source>
         <rule>
            <name value="prefix"></name>
            <source>
               <context value="name"></context>
               <element value="prefix"></element>
               <variable value="prefix"></variable>
               <condition value="(extension.where((url = 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier') and (valueCode = 'AC')))"></condition>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="order.notificationContactDocument.practitioner.title"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="prefix"></valueId>
               </parameter>
            </target>
            <documentation value="order.notificationContactDocument.practitioner.title"></documentation>
         </rule>
         <rule>
            <name value="family"></name>
            <source>
               <context value="name"></context>
               <element value="family"></element>
               <variable value="family"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="order.notificationContactDocument.practitioner.familyName"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="family"></valueId>
               </parameter>
            </target>
            <documentation value="order.notificationContactDocument.practitioner.familyName"></documentation>
         </rule>
         <rule>
            <name value="given"></name>
            <source>
               <context value="name"></context>
               <element value="given"></element>
               <variable value="given"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="order.notificationContactDocument.practitioner.givenName"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="given"></valueId>
               </parameter>
            </target>
            <documentation value="order.notificationContactDocument.practitioner.givenName"></documentation>
         </rule>
      </rule>
      <rule>
         <name value="phone"></name>
         <source>
            <context value="practitioner"></context>
            <element value="telecom"></element>
            <variable value="telecom"></variable>
            <condition value="(system = 'phone')"></condition>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="order.notificationContactDocument.practitioner.phone"></valueString>
            </parameter>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="telecom.value"></valueString>
            </parameter>
         </target>
         <documentation value="order.notificationContactDocument.practitioner.phone"></documentation>
      </rule>
      <rule>
         <name value="email"></name>
         <source>
            <context value="practitioner"></context>
            <element value="telecom"></element>
            <variable value="telecom"></variable>
            <condition value="(system = 'email')"></condition>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="order.notificationContactDocument.practitioner.email"></valueString>
            </parameter>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="telecom.value"></valueString>
            </parameter>
         </target>
         <documentation value="order.notificationContactDocument.practitioner.memaol"></documentation>
      </rule>
   </group>
   <group>
      <name value="UrgentNotificationResponseToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="practitionerRole"></name>
         <type value="PractitionerRole"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="urgentnotification"></name>
         <source>
            <context value="composition"></context>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemgroup"></variable>
         </target>
         <target>
            <context value="itemgroup"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="order.notificationContactDocumentResponse"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemgroup"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="order.notificationContactDocumentResponse.practitioner"></valueString>
            </parameter>
         </target>
         <rule>
            <name value="practitioner"></name>
            <source>
               <context value="practitionerRole"></context>
               <element value="practitioner"></element>
               <variable value="practitioner"></variable>
            </source>
            <rule>
               <name value="bundle.entry"></name>
               <source>
                  <context value="bundle"></context>
                  <element value="entry"></element>
                  <variable value="entry"></variable>
               </source>
               <rule>
                  <name value="fullUrlAsUuid"></name>
                  <source>
                     <context value="entry"></context>
                     <element value="fullUrl"></element>
                     <condition value="($this in %practitioner.reference) and $this.startsWith('urn:uuid')"></condition>
                  </source>
                  <rule>
                     <name value="practitioner"></name>
                     <source>
                        <context value="entry"></context>
                        <type value="Practitioner"></type>
                        <element value="resource"></element>
                        <variable value="practitioner"></variable>
                     </source>
                     <dependent>
                        <name value="UrgentNotificationResponsePractitionerToQr"></name>
                        <variable value="bundle"></variable>
                        <variable value="composition"></variable>
                        <variable value="practitioner"></variable>
                        <variable value="item"></variable>
                     </dependent>
                  </rule>
               </rule>
               <rule>
                  <name value="practitioner"></name>
                  <source>
                     <context value="entry"></context>
                     <type value="Practitioner"></type>
                     <element value="resource"></element>
                     <variable value="practitioner"></variable>
                     <condition value="('Practitioner' + '/' + $this.id) in %practitioner.reference"></condition>
                  </source>
                  <dependent>
                     <name value="UrgentNotificationResponsePractitionerToQr"></name>
                     <variable value="bundle"></variable>
                     <variable value="composition"></variable>
                     <variable value="practitioner"></variable>
                     <variable value="item"></variable>
                  </dependent>
               </rule>
            </rule>
         </rule>
         <documentation value="order.notificationContactDocumentResponse"></documentation>
      </rule>
   </group>
   <group>
      <name value="UrgentNotificationResponsePractitionerToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="practitioner"></name>
         <type value="Practitioner"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="name"></name>
         <source>
            <context value="practitioner"></context>
            <element value="name"></element>
            <variable value="name"></variable>
         </source>
         <rule>
            <name value="prefix"></name>
            <source>
               <context value="name"></context>
               <element value="prefix"></element>
               <variable value="prefix"></variable>
               <condition value="(extension.where((url = 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier') and (valueCode = 'AC')))"></condition>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="order.notificationContactDocumentResponse.practitioner.title"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="prefix"></valueId>
               </parameter>
            </target>
            <documentation value="order.notificationContactDocumentResponse.practitioner.title"></documentation>
         </rule>
         <rule>
            <name value="family"></name>
            <source>
               <context value="name"></context>
               <element value="family"></element>
               <variable value="family"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="order.notificationContactDocumentResponse.practitioner.familyName"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="family"></valueId>
               </parameter>
            </target>
            <documentation value="order.notificationContactDocumentResponse.practitioner.familyName"></documentation>
         </rule>
         <rule>
            <name value="given"></name>
            <source>
               <context value="name"></context>
               <element value="given"></element>
               <variable value="given"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="order.notificationContactDocumentResponse.practitioner.givenName"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="given"></valueId>
               </parameter>
            </target>
            <documentation value="order.notificationContactDocumentResponse.practitioner.givenName"></documentation>
         </rule>
      </rule>
      <rule>
         <name value="phone"></name>
         <source>
            <context value="practitioner"></context>
            <element value="telecom"></element>
            <variable value="telecom"></variable>
            <condition value="(system = 'phone')"></condition>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="order.notificationContactDocumentResponse.practitioner.phone"></valueString>
            </parameter>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="telecom.value"></valueString>
            </parameter>
         </target>
         <documentation value="order.notificationContactDocumentResponse.practitioner.phone"></documentation>
      </rule>
      <rule>
         <name value="email"></name>
         <source>
            <context value="practitioner"></context>
            <element value="telecom"></element>
            <variable value="telecom"></variable>
            <condition value="(system = 'email')"></condition>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="order.notificationContactDocumentResponse.practitioner.email"></valueString>
            </parameter>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="telecom.value"></valueString>
            </parameter>
         </target>
         <documentation value="order.notificationContactDocumentResponse.practitioner.memaol"></documentation>
      </rule>
   </group>
   <group>
      <name value="ReceiverToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="ext"></name>
         <type value="Extension"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="bundle.entry"></name>
         <source>
            <context value="bundle"></context>
            <element value="entry"></element>
            <variable value="entry"></variable>
         </source>
         <rule>
            <name value="fullUrlAsUuid"></name>
            <source>
               <context value="entry"></context>
               <element value="fullUrl"></element>
               <condition value="($this in %ext.valueReference.reference) and $this.startsWith('urn:uuid')"></condition>
            </source>
            <rule>
               <name value="practitioner"></name>
               <source>
                  <context value="entry"></context>
                  <type value="PractitionerRole"></type>
                  <element value="resource"></element>
                  <variable value="practitionerRole"></variable>
               </source>
               <dependent>
                  <name value="ReceiverPractitionerRoleToQr"></name>
                  <variable value="bundle"></variable>
                  <variable value="composition"></variable>
                  <variable value="practitionerRole"></variable>
                  <variable value="item"></variable>
               </dependent>
            </rule>
         </rule>
         <rule>
            <name value="practitioner"></name>
            <source>
               <context value="entry"></context>
               <type value="PractitionerRoler"></type>
               <element value="resource"></element>
               <variable value="practitionerRole"></variable>
               <condition value="('PractitionerRole' + '/' + $this.id) in %ext.valueReference.reference"></condition>
            </source>
            <dependent>
               <name value="ReceiverPractitionerRoleToQr"></name>
               <variable value="bundle"></variable>
               <variable value="composition"></variable>
               <variable value="practitionerRole"></variable>
               <variable value="item"></variable>
            </dependent>
         </rule>
      </rule>
   </group>
   <group>
      <name value="ReceiverPractitionerRoleToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="practitionerRole"></name>
         <type value="PractitionerRole"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="itemgroup"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="practitioner"></name>
         <source>
            <context value="practitionerRole"></context>
            <element value="practitioner"></element>
            <variable value="practitioner"></variable>
         </source>
         <target>
            <context value="itemgroup"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="receiver.practitioner"></valueString>
            </parameter>
         </target>
         <rule>
            <name value="bundle.entry"></name>
            <source>
               <context value="bundle"></context>
               <element value="entry"></element>
               <variable value="entry"></variable>
            </source>
            <rule>
               <name value="fullUrlAsUuid"></name>
               <source>
                  <context value="entry"></context>
                  <element value="fullUrl"></element>
                  <condition value="($this in %practitioner.reference) and $this.startsWith('urn:uuid')"></condition>
               </source>
               <rule>
                  <name value="practitioner"></name>
                  <source>
                     <context value="entry"></context>
                     <type value="Practitioner"></type>
                     <element value="resource"></element>
                     <variable value="practitioner"></variable>
                  </source>
                  <dependent>
                     <name value="ReceiverPractitionerToQr"></name>
                     <variable value="bundle"></variable>
                     <variable value="composition"></variable>
                     <variable value="practitioner"></variable>
                     <variable value="item"></variable>
                  </dependent>
               </rule>
            </rule>
            <rule>
               <name value="practitioner"></name>
               <source>
                  <context value="entry"></context>
                  <type value="Practitioner"></type>
                  <element value="resource"></element>
                  <variable value="practitioner"></variable>
                  <condition value="('Practitioner' + '/' + $this.id) in %practitioner.reference"></condition>
               </source>
               <dependent>
                  <name value="ReceiverPractitionerToQr"></name>
                  <variable value="bundle"></variable>
                  <variable value="composition"></variable>
                  <variable value="practitioner"></variable>
                  <variable value="item"></variable>
               </dependent>
            </rule>
         </rule>
      </rule>
      <rule>
         <name value="organization"></name>
         <source>
            <context value="practitionerRole"></context>
            <element value="organization"></element>
            <variable value="organization"></variable>
         </source>
         <target>
            <context value="itemgroup"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="receiver.organization"></valueString>
            </parameter>
         </target>
         <rule>
            <name value="bundle.entry"></name>
            <source>
               <context value="bundle"></context>
               <element value="entry"></element>
               <variable value="entry"></variable>
            </source>
            <rule>
               <name value="fullUrlAsUuid"></name>
               <source>
                  <context value="entry"></context>
                  <element value="fullUrl"></element>
                  <condition value="($this in %organization.reference) and $this.startsWith('urn:uuid')"></condition>
               </source>
               <rule>
                  <name value="organization"></name>
                  <source>
                     <context value="entry"></context>
                     <type value="Organization"></type>
                     <element value="resource"></element>
                     <variable value="organization"></variable>
                  </source>
                  <dependent>
                     <name value="ReceiverOrganizationToQr"></name>
                     <variable value="bundle"></variable>
                     <variable value="composition"></variable>
                     <variable value="organization"></variable>
                     <variable value="item"></variable>
                  </dependent>
               </rule>
            </rule>
            <rule>
               <name value="organization"></name>
               <source>
                  <context value="entry"></context>
                  <type value="Organization"></type>
                  <element value="resource"></element>
                  <variable value="organization"></variable>
                  <condition value="('Organization' + '/' + $this.id) in %organization.reference"></condition>
               </source>
               <dependent>
                  <name value="ReceiverOrganizationToQr"></name>
                  <variable value="bundle"></variable>
                  <variable value="composition"></variable>
                  <variable value="practitioner"></variable>
                  <variable value="item"></variable>
               </dependent>
            </rule>
         </rule>
      </rule>
   </group>
   <group>
      <name value="ReceiverPractitionerToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="practitioner"></name>
         <type value="Practitioner"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="name"></name>
         <source>
            <context value="practitioner"></context>
            <element value="name"></element>
            <variable value="name"></variable>
         </source>
         <rule>
            <name value="prefix"></name>
            <source>
               <context value="name"></context>
               <element value="prefix"></element>
               <variable value="prefix"></variable>
               <condition value="(extension.where((url = 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier') and (valueCode = 'AC')))"></condition>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="receiver.practitioner.title"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="prefix"></valueId>
               </parameter>
            </target>
            <documentation value="receiver.practitioner.title"></documentation>
         </rule>
         <rule>
            <name value="family"></name>
            <source>
               <context value="name"></context>
               <element value="family"></element>
               <variable value="family"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="receiver.practitioner.familyName"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="family"></valueId>
               </parameter>
            </target>
            <documentation value="receiver.practitioner.familyName"></documentation>
         </rule>
         <rule>
            <name value="given"></name>
            <source>
               <context value="name"></context>
               <element value="given"></element>
               <variable value="given"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="receiver.practitioner.givenName"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="given"></valueId>
               </parameter>
            </target>
            <documentation value="receiver.practitioner.givenName"></documentation>
         </rule>
      </rule>
      <rule>
         <name value="identifier"></name>
         <source>
            <context value="practitioner"></context>
            <element value="identifier"></element>
            <variable value="identifier"></variable>
            <condition value="(system = 'urn:oid:2.51.1.3')"></condition>
         </source>
         <rule>
            <name value="gln"></name>
            <source>
               <context value="identifier"></context>
               <element value="value"></element>
               <variable value="value"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="receiver.practitioner.gln"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="cast"></transform>
               <parameter>
                  <valueId value="value"></valueId>
               </parameter>
               <parameter>
                  <valueString value="string"></valueString>
               </parameter>
            </target>
         </rule>
         <documentation value="receiver.practitioner.gln"></documentation>
      </rule>
      <rule>
         <name value="phone"></name>
         <source>
            <context value="practitioner"></context>
            <element value="telecom"></element>
            <variable value="telecom"></variable>
            <condition value="(system = 'phone')"></condition>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="receiver.practitioner.phone"></valueString>
            </parameter>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="telecom.value"></valueString>
            </parameter>
         </target>
         <documentation value="receiver.practitioner.phone"></documentation>
      </rule>
      <rule>
         <name value="email"></name>
         <source>
            <context value="practitioner"></context>
            <element value="telecom"></element>
            <variable value="telecom"></variable>
            <condition value="(system = 'email')"></condition>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="receiver.practitioner.email"></valueString>
            </parameter>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="telecom.value"></valueString>
            </parameter>
         </target>
         <documentation value="receiver.practitioneremail"></documentation>
      </rule>
   </group>
   <group>
      <name value="ReceiverOrganizationToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="organization"></name>
         <type value="Organization"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="name"></name>
         <source>
            <context value="organization"></context>
            <element value="name"></element>
            <variable value="name"></variable>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="receiver.organization.name"></valueString>
            </parameter>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueId value="name"></valueId>
            </parameter>
         </target>
         <documentation value="receiver.organization.name"></documentation>
      </rule>
      <rule>
         <name value="addr"></name>
         <source>
            <context value="organization"></context>
            <element value="address"></element>
            <variable value="addr"></variable>
         </source>
         <rule>
            <name value="addrlinefirst"></name>
            <source>
               <context value="addr"></context>
               <element value="line"></element>
               <listMode value="first"></listMode>
               <variable value="line1"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="receiver.organization.streetAddressLine"></valueString>
               </parameter>
            </target>
            <rule>
               <name value="line"></name>
               <source>
                  <context value="addr"></context>
                  <element value="line"></element>
                  <variable value="line"></variable>
               </source>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="answer"></element>
                  <variable value="answer"></variable>
               </target>
               <target>
                  <context value="answer"></context>
                  <contextType value="variable"></contextType>
                  <element value="value"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueId value="line"></valueId>
                  </parameter>
               </target>
            </rule>
         </rule>
         <rule>
            <name value="postalCode"></name>
            <source>
               <context value="addr"></context>
               <element value="postalCode"></element>
               <variable value="postalCode"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="receiver.organization.postalCode"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="postalCode"></valueId>
               </parameter>
            </target>
            <documentation value="receiver.organization.postalCode"></documentation>
         </rule>
         <rule>
            <name value="city"></name>
            <source>
               <context value="addr"></context>
               <element value="city"></element>
               <variable value="city"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="receiver.organization.city"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="city"></valueId>
               </parameter>
            </target>
            <documentation value="receiver.organization.city"></documentation>
         </rule>
         <rule>
            <name value="country"></name>
            <source>
               <context value="addr"></context>
               <element value="country"></element>
               <variable value="country"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="receiver.organization.country"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="country"></valueId>
               </parameter>
            </target>
            <documentation value="receiver.organization.country"></documentation>
         </rule>
         <documentation value="receiver.organization.streetAddressLine"></documentation>
      </rule>
   </group>
   <group>
      <name value="PatientToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="serviceRequest"></name>
         <type value="ServiceRequest"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="practitioner"></name>
         <source>
            <context value="composition"></context>
            <element value="subject"></element>
            <variable value="subject"></variable>
         </source>
         <rule>
            <name value="bundle.entry"></name>
            <source>
               <context value="bundle"></context>
               <element value="entry"></element>
               <variable value="entry"></variable>
            </source>
            <rule>
               <name value="fullUrlAsUuid"></name>
               <source>
                  <context value="entry"></context>
                  <element value="fullUrl"></element>
                  <condition value="($this in %subject.reference) and $this.startsWith('urn:uuid')"></condition>
               </source>
               <rule>
                  <name value="patient"></name>
                  <source>
                     <context value="entry"></context>
                     <type value="Patient"></type>
                     <element value="resource"></element>
                     <variable value="patient"></variable>
                  </source>
                  <dependent>
                     <name value="PatientDetailsToQr"></name>
                     <variable value="bundle"></variable>
                     <variable value="composition"></variable>
                     <variable value="patient"></variable>
                     <variable value="item"></variable>
                  </dependent>
               </rule>
            </rule>
            <rule>
               <name value="patient"></name>
               <source>
                  <context value="entry"></context>
                  <type value="Patient"></type>
                  <element value="resource"></element>
                  <variable value="patient"></variable>
                  <condition value="('Patient' + '/' + $this.id) in %subject.reference"></condition>
               </source>
               <dependent>
                  <name value="PatientDetailsToQr"></name>
                  <variable value="bundle"></variable>
                  <variable value="composition"></variable>
                  <variable value="patient"></variable>
                  <variable value="item"></variable>
               </dependent>
            </rule>
         </rule>
      </rule>
   </group>
   <group>
      <name value="PatientDetailsToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="patient"></name>
         <type value="Patient"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="familyName"></name>
         <source>
            <context value="patient"></context>
            <element value="name"></element>
            <variable value="name"></variable>
            <condition value="(use.empty() or (use = 'official'))"></condition>
         </source>
         <rule>
            <name value="family"></name>
            <source>
               <context value="name"></context>
               <element value="family"></element>
               <variable value="family"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="patient.familyName"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="family"></valueId>
               </parameter>
            </target>
         </rule>
         <documentation value="patient.familyName"></documentation>
      </rule>
      <rule>
         <name value="maidenName"></name>
         <source>
            <context value="patient"></context>
            <element value="name"></element>
            <variable value="name"></variable>
            <condition value="use = 'maiden'"></condition>
         </source>
         <rule>
            <name value="maidenName"></name>
            <source>
               <context value="name"></context>
               <element value="family"></element>
               <variable value="family"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="patient.maidenName"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="family"></valueId>
               </parameter>
            </target>
         </rule>
      </rule>
      <rule>
         <name value="givenName"></name>
         <source>
            <context value="patient"></context>
            <element value="name"></element>
            <variable value="name"></variable>
            <condition value="(use.empty() or (use = 'official'))"></condition>
         </source>
         <rule>
            <name value="given"></name>
            <source>
               <context value="name"></context>
               <element value="given"></element>
               <variable value="given"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="patient.givenName"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="given"></valueId>
               </parameter>
            </target>
            <documentation value="patient.givenName"></documentation>
         </rule>
      </rule>
      <rule>
         <name value="patient.localPid"></name>
         <source>
            <context value="patient"></context>
            <element value="identifier"></element>
            <variable value="identifier"></variable>
            <condition value="(type.coding.where((system.value = 'http://terminology.hl7.org/CodeSystem/v2-0203') and (code.value = 'MR')))"></condition>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item1"></variable>
         </target>
         <target>
            <context value="item1"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="patient.localPid"></valueString>
            </parameter>
         </target>
         <target>
            <context value="item1"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="identifier.value"></valueString>
            </parameter>
         </target>
         <rule>
            <name value="order.placerOrderIdentifierDomain"></name>
            <source>
               <context value="identifier"></context>
               <element value="system"></element>
               <variable value="system"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item2"></variable>
            </target>
            <target>
               <context value="item2"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="patient.localPidDomain"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item2"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="cast"></transform>
               <parameter>
                  <valueId value="system"></valueId>
               </parameter>
               <parameter>
                  <valueString value="string"></valueString>
               </parameter>
            </target>
         </rule>
         <documentation value="patient.localPid"></documentation>
      </rule>
      <rule>
         <name value="patient.birthDate"></name>
         <source>
            <context value="patient"></context>
            <element value="birthDate"></element>
            <variable value="birthDate"></variable>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="patient.birthDate"></valueString>
            </parameter>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueId value="birthDate"></valueId>
            </parameter>
         </target>
         <documentation value="patient.birthDate"></documentation>
      </rule>
      <rule>
         <name value="patient.gender"></name>
         <source>
            <context value="patient"></context>
            <element value="gender"></element>
            <variable value="gender"></variable>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="patient.gender"></valueString>
            </parameter>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <variable value="coding"></variable>
            <transform value="create"></transform>
            <parameter>
               <valueString value="Coding"></valueString>
            </parameter>
         </target>
         <target>
            <context value="coding"></context>
            <contextType value="variable"></contextType>
            <element value="system"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="http://hl7.org/fhir/administrative-gender"></valueString>
            </parameter>
         </target>
         <target>
            <context value="coding"></context>
            <contextType value="variable"></contextType>
            <element value="code"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueId value="gender"></valueId>
            </parameter>
         </target>
         <documentation value="patient.gender"></documentation>
      </rule>
      <rule>
         <name value="phone"></name>
         <source>
            <context value="patient"></context>
            <element value="telecom"></element>
            <variable value="telecom"></variable>
            <condition value="(system = 'phone')"></condition>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="patient.phone"></valueString>
            </parameter>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="telecom.value"></valueString>
            </parameter>
         </target>
         <documentation value="patient.phone"></documentation>
      </rule>
      <rule>
         <name value="email"></name>
         <source>
            <context value="patient"></context>
            <element value="telecom"></element>
            <variable value="telecom"></variable>
            <condition value="(system = 'email')"></condition>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="patient.email"></valueString>
            </parameter>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="telecom.value"></valueString>
            </parameter>
         </target>
         <documentation value="patient.email"></documentation>
      </rule>
      <rule>
         <name value="addr"></name>
         <source>
            <context value="patient"></context>
            <element value="address"></element>
            <variable value="addr"></variable>
         </source>
         <rule>
            <name value="addrlinefirst"></name>
            <source>
               <context value="addr"></context>
               <element value="line"></element>
               <listMode value="first"></listMode>
               <variable value="line1"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="patient.streetAddressLine"></valueString>
               </parameter>
            </target>
            <rule>
               <name value="line"></name>
               <source>
                  <context value="addr"></context>
                  <element value="line"></element>
                  <variable value="line"></variable>
               </source>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="answer"></element>
                  <variable value="answer"></variable>
               </target>
               <target>
                  <context value="answer"></context>
                  <contextType value="variable"></contextType>
                  <element value="value"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueId value="line"></valueId>
                  </parameter>
               </target>
            </rule>
         </rule>
         <rule>
            <name value="postalCode"></name>
            <source>
               <context value="addr"></context>
               <element value="postalCode"></element>
               <variable value="postalCode"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="patient.postalCode"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="postalCode"></valueId>
               </parameter>
            </target>
            <documentation value="patient.postalCode"></documentation>
         </rule>
         <rule>
            <name value="city"></name>
            <source>
               <context value="addr"></context>
               <element value="city"></element>
               <variable value="city"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="patient.city"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="city"></valueId>
               </parameter>
            </target>
            <documentation value="patient.city"></documentation>
         </rule>
         <rule>
            <name value="country"></name>
            <source>
               <context value="addr"></context>
               <element value="country"></element>
               <variable value="country"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="patient.country"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="country"></valueId>
               </parameter>
            </target>
            <documentation value="patient.country"></documentation>
         </rule>
      </rule>
      <rule>
         <name value="contact"></name>
         <source>
            <context value="patient"></context>
            <element value="contact"></element>
            <variable value="contact"></variable>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="patient.contactperson"></valueString>
            </parameter>
         </target>
         <rule>
            <name value="relationship"></name>
            <source>
               <context value="contact"></context>
               <element value="relationship"></element>
               <variable value="relationship"></variable>
            </source>
            <rule>
               <name value="patient.contactperson.relationship"></name>
               <source>
                  <context value="relationship"></context>
                  <element value="text"></element>
                  <variable value="text"></variable>
               </source>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="item"></element>
                  <variable value="item"></variable>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="linkId"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueString value="patient.contactperson.relationship"></valueString>
                  </parameter>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="answer"></element>
                  <variable value="answer"></variable>
               </target>
               <target>
                  <context value="answer"></context>
                  <contextType value="variable"></contextType>
                  <element value="value"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueId value="text"></valueId>
                  </parameter>
               </target>
            </rule>
            <documentation value="patient.contactperson.relationship"></documentation>
         </rule>
         <rule>
            <name value="patient.contactperson.name"></name>
            <source>
               <context value="contact"></context>
               <element value="name"></element>
               <variable value="name"></variable>
            </source>
            <rule>
               <name value="patient.contactperson.familyName"></name>
               <source>
                  <context value="name"></context>
                  <element value="family"></element>
                  <variable value="family"></variable>
               </source>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="item"></element>
                  <variable value="item"></variable>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="linkId"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueString value="patient.contactperson.familyName"></valueString>
                  </parameter>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="answer"></element>
                  <variable value="answer"></variable>
               </target>
               <target>
                  <context value="answer"></context>
                  <contextType value="variable"></contextType>
                  <element value="value"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueId value="family"></valueId>
                  </parameter>
               </target>
               <documentation value="patient.contactperson.familyName"></documentation>
            </rule>
            <rule>
               <name value="patient.contactperson.givenName"></name>
               <source>
                  <context value="name"></context>
                  <element value="given"></element>
                  <variable value="given"></variable>
               </source>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="item"></element>
                  <variable value="item"></variable>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="linkId"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueString value="patient.contactperson.givenName"></valueString>
                  </parameter>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="answer"></element>
                  <variable value="answer"></variable>
               </target>
               <target>
                  <context value="answer"></context>
                  <contextType value="variable"></contextType>
                  <element value="value"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueId value="given"></valueId>
                  </parameter>
               </target>
               <documentation value="patient.contactperson.givenName"></documentation>
            </rule>
         </rule>
         <rule>
            <name value="phone"></name>
            <source>
               <context value="contact"></context>
               <element value="telecom"></element>
               <variable value="telecom"></variable>
               <condition value="(system = 'phone')"></condition>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="patient.contactperson.phone"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="evaluate"></transform>
               <parameter>
                  <valueString value="telecom.value"></valueString>
               </parameter>
            </target>
            <documentation value="patient.contactperson.phone"></documentation>
         </rule>
         <rule>
            <name value="email"></name>
            <source>
               <context value="contact"></context>
               <element value="telecom"></element>
               <variable value="telecom"></variable>
               <condition value="(system = 'email')"></condition>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="patient.contactperson.email"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="evaluate"></transform>
               <parameter>
                  <valueString value="telecom.value"></valueString>
               </parameter>
            </target>
            <documentation value="patient.contactperson.email"></documentation>
         </rule>
         <documentation value="patient.contactperson"></documentation>
      </rule>
   </group>
   <group>
      <name value="RequestedEncounterDetailsToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="ext"></name>
         <type value="Extension"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="bundle.entry"></name>
         <source>
            <context value="bundle"></context>
            <element value="entry"></element>
            <variable value="entry"></variable>
         </source>
         <rule>
            <name value="fullUrlAsUuid"></name>
            <source>
               <context value="entry"></context>
               <element value="fullUrl"></element>
               <condition value="($this in %ext.valueReference.reference) and $this.startsWith('urn:uuid')"></condition>
            </source>
            <rule>
               <name value="encounter"></name>
               <source>
                  <context value="entry"></context>
                  <type value="Encounter"></type>
                  <element value="resource"></element>
                  <variable value="encounter"></variable>
               </source>
               <dependent>
                  <name value="EncounterToQr"></name>
                  <variable value="encounter"></variable>
                  <variable value="item"></variable>
               </dependent>
            </rule>
         </rule>
         <rule>
            <name value="encounter"></name>
            <source>
               <context value="entry"></context>
               <type value="Encounter"></type>
               <element value="resource"></element>
               <variable value="encounter"></variable>
               <condition value="('Encounter' + '/' + $this.id) in %ext.valueReference.reference"></condition>
            </source>
            <dependent>
               <name value="EncounterToQr"></name>
               <variable value="encounter"></variable>
               <variable value="item"></variable>
            </dependent>
         </rule>
      </rule>
   </group>
   <group>
      <name value="EncounterToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="encounter"></name>
         <type value="Encounter"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="class"></name>
         <source>
            <context value="encounter"></context>
            <element value="class"></element>
            <variable value="class"></variable>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="requestedEncounter.class"></valueString>
            </parameter>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueId value="class"></valueId>
            </parameter>
         </target>
         <documentation value="requestedEncounter.class"></documentation>
      </rule>
      <rule>
         <name value="requestedEncounter.desiredAccommodation"></name>
         <source>
            <context value="encounter"></context>
            <element value="extension"></element>
            <variable value="extension"></variable>
            <condition value="url = 'http://fhir.ch/ig/ch-orf/StructureDefinition/ch-orf-desiredaccommodation'"></condition>
         </source>
         <rule>
            <name value="desiredAccommodation"></name>
            <source>
               <context value="extension"></context>
               <element value="value"></element>
               <variable value="value"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="requestedEncounter.desiredAccommodation"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="value"></valueId>
               </parameter>
            </target>
         </rule>
         <documentation value="requestedEncounter.desiredAccommodation"></documentation>
      </rule>
   </group>
   <group>
      <name value="AppointmentDetailsToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="ext"></name>
         <type value="Extension"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="bundle.entry"></name>
         <source>
            <context value="bundle"></context>
            <element value="entry"></element>
            <variable value="entry"></variable>
         </source>
         <rule>
            <name value="fullUrlAsUuid"></name>
            <source>
               <context value="entry"></context>
               <element value="fullUrl"></element>
               <condition value="($this in %ext.valueReference.reference) and $this.startsWith('urn:uuid')"></condition>
            </source>
            <rule>
               <name value="appointment"></name>
               <source>
                  <context value="entry"></context>
                  <type value="Appointment"></type>
                  <element value="resource"></element>
                  <variable value="appointment"></variable>
               </source>
               <dependent>
                  <name value="AppointmentToQr"></name>
                  <variable value="appointment"></variable>
                  <variable value="item"></variable>
               </dependent>
            </rule>
         </rule>
         <rule>
            <name value="encounter"></name>
            <source>
               <context value="entry"></context>
               <type value="Appointment"></type>
               <element value="resource"></element>
               <variable value="appointment"></variable>
               <condition value="('Appointment' + '/' + $this.id) in %ext.valueReference.reference"></condition>
            </source>
            <dependent>
               <name value="AppointmentToQr"></name>
               <variable value="appointment"></variable>
               <variable value="item"></variable>
            </dependent>
         </rule>
      </rule>
   </group>
   <group>
      <name value="LocationToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="loc"></name>
         <type value="Locaton"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="location"></name>
         <source>
            <context value="loc"></context>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="appointment.location"></valueString>
            </parameter>
         </target>
         <rule>
            <name value="name"></name>
            <source>
               <context value="location"></context>
               <element value="name"></element>
               <variable value="name"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="itemloc"></variable>
            </target>
            <target>
               <context value="itemloc"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="appointment.location.name"></valueString>
               </parameter>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="name"></valueId>
               </parameter>
            </target>
            <documentation value="appointment.location.name"></documentation>
         </rule>
         <rule>
            <name value="phone"></name>
            <source>
               <context value="location"></context>
               <element value="telecom"></element>
               <variable value="telecom"></variable>
               <condition value="system = 'phone'"></condition>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="itemloc"></variable>
            </target>
            <target>
               <context value="itemloc"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="appointment.location.phone"></valueString>
               </parameter>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="evaluate"></transform>
               <parameter>
                  <valueString value="%telecom.value"></valueString>
               </parameter>
            </target>
            <documentation value="appointment.location.phone"></documentation>
         </rule>
         <rule>
            <name value="email"></name>
            <source>
               <context value="location"></context>
               <element value="telecom"></element>
               <variable value="telecom"></variable>
               <condition value="system = 'email'"></condition>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="itemloc"></variable>
            </target>
            <target>
               <context value="itemloc"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="appointment.location.email"></valueString>
               </parameter>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="evaluate"></transform>
               <parameter>
                  <valueString value="%telecom.value"></valueString>
               </parameter>
            </target>
            <documentation value="appointment.location.email"></documentation>
         </rule>
         <rule>
            <name value="addr"></name>
            <source>
               <context value="location"></context>
               <element value="addr"></element>
               <variable value="addr"></variable>
            </source>
            <rule>
               <name value="streetAddressLine"></name>
               <source>
                  <context value="addr"></context>
                  <element value="streetAddressLine"></element>
                  <variable value="line"></variable>
               </source>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="item"></element>
                  <variable value="itemloc"></variable>
               </target>
               <target>
                  <context value="itemloc"></context>
                  <contextType value="variable"></contextType>
                  <element value="linkId"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueString value="appointment.location.streetAddressLine"></valueString>
                  </parameter>
               </target>
               <target>
                  <context value="answer"></context>
                  <contextType value="variable"></contextType>
                  <element value="value"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueId value="line"></valueId>
                  </parameter>
               </target>
               <documentation value="appointment.location.streetAddressLine"></documentation>
            </rule>
            <rule>
               <name value="postalCode"></name>
               <source>
                  <context value="addr"></context>
                  <element value="postalCode"></element>
                  <variable value="postalCode"></variable>
               </source>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="item"></element>
                  <variable value="itemloc"></variable>
               </target>
               <target>
                  <context value="itemloc"></context>
                  <contextType value="variable"></contextType>
                  <element value="linkId"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueString value="appointment.location.postalCode"></valueString>
                  </parameter>
               </target>
               <target>
                  <context value="answer"></context>
                  <contextType value="variable"></contextType>
                  <element value="value"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueId value="postalCode"></valueId>
                  </parameter>
               </target>
               <documentation value="appointment.location.postalCode"></documentation>
            </rule>
            <rule>
               <name value="city"></name>
               <source>
                  <context value="addr"></context>
                  <element value="city"></element>
                  <variable value="city"></variable>
               </source>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="item"></element>
                  <variable value="itemloc"></variable>
               </target>
               <target>
                  <context value="itemloc"></context>
                  <contextType value="variable"></contextType>
                  <element value="linkId"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueString value="appointment.location.city"></valueString>
                  </parameter>
               </target>
               <target>
                  <context value="answer"></context>
                  <contextType value="variable"></contextType>
                  <element value="value"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueId value="city"></valueId>
                  </parameter>
               </target>
               <documentation value="appointment.location.city"></documentation>
            </rule>
            <rule>
               <name value="country"></name>
               <source>
                  <context value="addr"></context>
                  <element value="country"></element>
                  <variable value="country"></variable>
               </source>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="item"></element>
                  <variable value="itemloc"></variable>
               </target>
               <target>
                  <context value="itemloc"></context>
                  <contextType value="variable"></contextType>
                  <element value="linkId"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueString value="appointment.location.country"></valueString>
                  </parameter>
               </target>
               <target>
                  <context value="answer"></context>
                  <contextType value="variable"></contextType>
                  <element value="value"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueId value="country"></valueId>
                  </parameter>
               </target>
               <documentation value="appointment.location.country"></documentation>
            </rule>
         </rule>
      </rule>
   </group>
   <group>
      <name value="AppointmentToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="app"></name>
         <type value="Appointment"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="participant"></name>
         <source>
            <context value="app"></context>
            <element value="participant"></element>
            <variable value="particiapnt"></variable>
         </source>
         <rule>
            <name value="bundle.entry"></name>
            <source>
               <context value="bundle"></context>
               <element value="entry"></element>
               <variable value="entry"></variable>
            </source>
            <rule>
               <name value="fullUrlAsUuid"></name>
               <source>
                  <context value="entry"></context>
                  <element value="fullUrl"></element>
                  <condition value="($this in %participant.reference) and $this.startsWith('urn:uuid')"></condition>
               </source>
               <rule>
                  <name value="location"></name>
                  <source>
                     <context value="entry"></context>
                     <type value="Location"></type>
                     <element value="resource"></element>
                     <variable value="location"></variable>
                  </source>
                  <dependent>
                     <name value="LocationToQr"></name>
                     <variable value="location"></variable>
                     <variable value="item"></variable>
                  </dependent>
               </rule>
            </rule>
            <rule>
               <name value="location"></name>
               <source>
                  <context value="entry"></context>
                  <type value="Location"></type>
                  <element value="resource"></element>
                  <variable value="location"></variable>
                  <condition value="('Location' + '/' + $this.id) in %participant.reference"></condition>
               </source>
               <dependent>
                  <name value="LocationToQr"></name>
                  <variable value="location"></variable>
                  <variable value="item"></variable>
               </dependent>
            </rule>
         </rule>
         <documentation value="appointment.location"></documentation>
      </rule>
      <rule>
         <name value="requestedPeriod"></name>
         <source>
            <context value="app"></context>
            <element value="requestedPeriod"></element>
            <variable value="requestedPeriod"></variable>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="appointment.requestedPeriod"></valueString>
            </parameter>
         </target>
         <rule>
            <name value="start"></name>
            <source>
               <context value="requestedPeriod"></context>
               <element value="start"></element>
               <variable value="start"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="itemloc"></variable>
            </target>
            <target>
               <context value="itemloc"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="appointment.requestedPeriod.start"></valueString>
               </parameter>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="start"></valueId>
               </parameter>
            </target>
            <documentation value="appointment.requestedPeriod.start"></documentation>
         </rule>
         <rule>
            <name value="end"></name>
            <source>
               <context value="requestedPeriod"></context>
               <element value="end"></element>
               <variable value="end"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="itemloc"></variable>
            </target>
            <target>
               <context value="itemloc"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="appointment.requestedPeriod.end"></valueString>
               </parameter>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="end"></valueId>
               </parameter>
            </target>
            <documentation value="appointment.requestedPeriod.end"></documentation>
         </rule>
         <documentation value="appointment.requestedPeriod"></documentation>
      </rule>
      <rule>
         <name value="status"></name>
         <source>
            <context value="app"></context>
            <element value="status"></element>
            <variable value="status"></variable>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemloc"></variable>
         </target>
         <target>
            <context value="itemloc"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="appointment.requestedPeriod.status"></valueString>
            </parameter>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueId value="status"></valueId>
            </parameter>
         </target>
         <documentation value="appointment.status"></documentation>
      </rule>
      <rule>
         <name value="patientInstruction"></name>
         <source>
            <context value="app"></context>
            <element value="patientInstruction"></element>
            <variable value="patientInstruction"></variable>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemloc"></variable>
         </target>
         <target>
            <context value="itemloc"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="appointment.patientInstruction"></valueString>
            </parameter>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueId value="patientInstruction"></valueId>
            </parameter>
         </target>
         <documentation value="appointment.patientInstruction"></documentation>
      </rule>
   </group>
   <group>
      <name value="CoverageBeneficiary"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="patient"></name>
         <type value="Patient"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="coverage.beneficiary.ahvn13"></name>
         <source>
            <context value="patient"></context>
            <element value="identifier"></element>
            <variable value="identifier"></variable>
            <condition value="system = 'urn:oid:2.16.756.5.32'"></condition>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemkvg"></variable>
         </target>
         <target>
            <context value="itemkvg"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage.beneficiary"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemkvg"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemname"></variable>
         </target>
         <target>
            <context value="itemname"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage.beneficiary.ahvn13"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemname"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="%identifier.value"></valueString>
            </parameter>
         </target>
      </rule>
   </group>
   <group>
      <name value="CoverageKvg"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="coverage"></name>
         <type value="Coverage"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="coverage.kvg"></name>
         <source>
            <context value="coverage"></context>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemkvg"></variable>
         </target>
         <target>
            <context value="itemkvg"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage.kvg"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemkvg"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemname"></variable>
         </target>
         <target>
            <context value="itemname"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage.kvg.name"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemname"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="%coverage.contained.name"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemkvg"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemno"></variable>
         </target>
         <target>
            <context value="itemno"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage.kvg.insuranceCardNumber"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemno"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="%coverage.identifier.value"></valueString>
            </parameter>
         </target>
      </rule>
   </group>
   <group>
      <name value="CoverageUvg"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="coverage"></name>
         <type value="Coverage"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="coverage.uvg"></name>
         <source>
            <context value="coverage"></context>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemkvg"></variable>
         </target>
         <target>
            <context value="itemkvg"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage.uvg"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemkvg"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemname"></variable>
         </target>
         <target>
            <context value="itemname"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage.uvg.name"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemname"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="%coverage.contained.name"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemkvg"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemno"></variable>
         </target>
         <target>
            <context value="itemno"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage.uvg.claimNumber"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemno"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="%coverage.identifier.value"></valueString>
            </parameter>
         </target>
      </rule>
   </group>
   <group>
      <name value="CoverageVvg"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="coverage"></name>
         <type value="Coverage"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="coverage.vvg"></name>
         <source>
            <context value="coverage"></context>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemkvg"></variable>
         </target>
         <target>
            <context value="itemkvg"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage.vvg"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemkvg"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemname"></variable>
         </target>
         <target>
            <context value="itemname"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage.vvg.name"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemname"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="%coverage.contained.name"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemkvg"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemno"></variable>
         </target>
         <target>
            <context value="itemno"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage.vvg.insuranceCardNumber"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemno"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="%coverage.identifier.value"></valueString>
            </parameter>
         </target>
      </rule>
   </group>
   <group>
      <name value="CoverageIvg"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="coverage"></name>
         <type value="Coverage"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="coverage.iv"></name>
         <source>
            <context value="coverage"></context>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemkvg"></variable>
         </target>
         <target>
            <context value="itemkvg"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage.iv"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemkvg"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemno"></variable>
         </target>
         <target>
            <context value="itemno"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage.iv.verfuegungsnummer"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemno"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="%coverage.identifier.value"></valueString>
            </parameter>
         </target>
      </rule>
   </group>
   <group>
      <name value="CoverageMvg"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="coverage"></name>
         <type value="Coverage"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="coverage.mv"></name>
         <source>
            <context value="coverage"></context>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemkvg"></variable>
         </target>
         <target>
            <context value="itemkvg"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage.mv"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemkvg"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemno"></variable>
         </target>
         <target>
            <context value="itemno"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage.mv.versichertennummer"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemno"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="%coverage.identifier.value"></valueString>
            </parameter>
         </target>
      </rule>
   </group>
   <group>
      <name value="CoverageSelf"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="coverage"></name>
         <type value="Coverage"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="coverage.uvg"></name>
         <source>
            <context value="coverage"></context>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemkvg"></variable>
         </target>
         <target>
            <context value="itemkvg"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage.self"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemkvg"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemname"></variable>
         </target>
         <target>
            <context value="itemname"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage.self.familyName"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemname"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="%coverage.contained.name.family"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemkvg"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemno"></variable>
         </target>
         <target>
            <context value="itemno"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage.self.givenName"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemno"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="%coverage.contained.name.given"></valueString>
            </parameter>
         </target>
      </rule>
   </group>
   <group>
      <name value="CoverageOther"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="coverage"></name>
         <type value="Coverage"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="coverage.uvg"></name>
         <source>
            <context value="coverage"></context>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemkvg"></variable>
         </target>
         <target>
            <context value="itemkvg"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage.other"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemkvg"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemname"></variable>
         </target>
         <target>
            <context value="itemname"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage.other.name"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemname"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="%coverage.contained.name"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemkvg"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemno"></variable>
         </target>
         <target>
            <context value="itemno"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="coverage.other.id"></valueString>
            </parameter>
         </target>
         <target>
            <context value="itemno"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="%coverage.identifier.value"></valueString>
            </parameter>
         </target>
      </rule>
   </group>
   <group>
      <name value="CoverageToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="serviceRequest"></name>
         <type value="ServiceRequest"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="practitioner"></name>
         <source>
            <context value="composition"></context>
            <element value="subject"></element>
            <variable value="subject"></variable>
         </source>
         <rule>
            <name value="bundle.entry"></name>
            <source>
               <context value="bundle"></context>
               <element value="entry"></element>
               <variable value="entry"></variable>
            </source>
            <rule>
               <name value="fullUrlAsUuid"></name>
               <source>
                  <context value="entry"></context>
                  <element value="fullUrl"></element>
                  <condition value="($this in %subject.reference) and $this.startsWith('urn:uuid')"></condition>
               </source>
               <rule>
                  <name value="patient"></name>
                  <source>
                     <context value="entry"></context>
                     <type value="Patient"></type>
                     <element value="resource"></element>
                     <variable value="patient"></variable>
                  </source>
                  <dependent>
                     <name value="CoverageBeneficiary"></name>
                     <variable value="patient"></variable>
                     <variable value="item"></variable>
                  </dependent>
               </rule>
            </rule>
            <rule>
               <name value="patient"></name>
               <source>
                  <context value="entry"></context>
                  <type value="Patient"></type>
                  <element value="resource"></element>
                  <variable value="patient"></variable>
                  <condition value="('Patient' + '/' + $this.id) in %subject.reference"></condition>
               </source>
               <dependent>
                  <name value="CoverageBeneficiary"></name>
                  <variable value="patient"></variable>
                  <variable value="item"></variable>
               </dependent>
            </rule>
         </rule>
      </rule>
      <rule>
         <name value="bundle.entry"></name>
         <source>
            <context value="bundle"></context>
            <element value="entry"></element>
            <variable value="entry"></variable>
         </source>
         <rule>
            <name value="fullUrlAsUuid"></name>
            <source>
               <context value="entry"></context>
               <element value="fullUrl"></element>
               <condition value="($this in %serviceRequest.insurance.reference) and $this.startsWith('urn:uuid')"></condition>
            </source>
            <rule>
               <name value="coveragekvg"></name>
               <source>
                  <context value="entry"></context>
                  <type value="Coverage"></type>
                  <element value="resource"></element>
                  <variable value="coverage"></variable>
                  <condition value="(type.coding.code = 'KVG')"></condition>
               </source>
               <dependent>
                  <name value="CoverageKvg"></name>
                  <variable value="coverage"></variable>
                  <variable value="item"></variable>
               </dependent>
            </rule>
            <rule>
               <name value="coverageuvg"></name>
               <source>
                  <context value="entry"></context>
                  <type value="Coverage"></type>
                  <element value="resource"></element>
                  <variable value="coverage"></variable>
                  <condition value="(type.coding.code = 'UVG')"></condition>
               </source>
               <dependent>
                  <name value="CoverageUvg"></name>
                  <variable value="coverage"></variable>
                  <variable value="item"></variable>
               </dependent>
            </rule>
            <rule>
               <name value="coverageVvg"></name>
               <source>
                  <context value="entry"></context>
                  <type value="Coverage"></type>
                  <element value="resource"></element>
                  <variable value="coverage"></variable>
                  <condition value="(type.coding.code = 'VVG')"></condition>
               </source>
               <dependent>
                  <name value="CoverageVvg"></name>
                  <variable value="coverage"></variable>
                  <variable value="item"></variable>
               </dependent>
            </rule>
            <rule>
               <name value="coverageVvg"></name>
               <source>
                  <context value="entry"></context>
                  <type value="Coverage"></type>
                  <element value="resource"></element>
                  <variable value="coverage"></variable>
                  <condition value="(type.coding.code = 'IVG')"></condition>
               </source>
               <dependent>
                  <name value="CoverageIvg"></name>
                  <variable value="coverage"></variable>
                  <variable value="item"></variable>
               </dependent>
            </rule>
            <rule>
               <name value="coverageVvg"></name>
               <source>
                  <context value="entry"></context>
                  <type value="Coverage"></type>
                  <element value="resource"></element>
                  <variable value="coverage"></variable>
                  <condition value="(type.coding.code = 'MVG')"></condition>
               </source>
               <dependent>
                  <name value="CoverageMvg"></name>
                  <variable value="coverage"></variable>
                  <variable value="item"></variable>
               </dependent>
            </rule>
            <rule>
               <name value="coverageSelf"></name>
               <source>
                  <context value="entry"></context>
                  <type value="Coverage"></type>
                  <element value="resource"></element>
                  <variable value="coverage"></variable>
                  <condition value="(type.coding.code = 'Self')"></condition>
               </source>
               <dependent>
                  <name value="CoverageSelf"></name>
                  <variable value="coverage"></variable>
                  <variable value="item"></variable>
               </dependent>
            </rule>
            <rule>
               <name value="coverageOth4r"></name>
               <source>
                  <context value="entry"></context>
                  <type value="Coverage"></type>
                  <element value="resource"></element>
                  <variable value="coverage"></variable>
                  <condition value="(type.coding.code = 'Other')"></condition>
               </source>
               <dependent>
                  <name value="CoverageOther"></name>
                  <variable value="coverage"></variable>
                  <variable value="item"></variable>
               </dependent>
            </rule>
         </rule>
         <rule>
            <name value="coveragekvg"></name>
            <source>
               <context value="entry"></context>
               <type value="Coverage"></type>
               <element value="resource"></element>
               <variable value="coverage"></variable>
               <condition value="(type.coding.code = 'KVG') and (('Coverage' + '/' + $this.id) in %serviceRequest.insurance.reference)"></condition>
            </source>
            <dependent>
               <name value="CoverageKvg"></name>
               <variable value="coverage"></variable>
               <variable value="item"></variable>
            </dependent>
         </rule>
         <rule>
            <name value="coverageuvg"></name>
            <source>
               <context value="entry"></context>
               <type value="Coverage"></type>
               <element value="resource"></element>
               <variable value="coverage"></variable>
               <condition value="(type.coding.code = 'UVG') and (('Coverage' + '/' + $this.id) in %serviceRequest.insurance.reference)"></condition>
            </source>
            <dependent>
               <name value="CoverageUvg"></name>
               <variable value="coverage"></variable>
               <variable value="item"></variable>
            </dependent>
         </rule>
         <rule>
            <name value="coverageuvg"></name>
            <source>
               <context value="entry"></context>
               <type value="Coverage"></type>
               <element value="resource"></element>
               <variable value="coverage"></variable>
               <condition value="(type.coding.code = 'VVG') and (('Coverage' + '/' + $this.id) in %serviceRequest.insurance.reference)"></condition>
            </source>
            <dependent>
               <name value="CoverageVvg"></name>
               <variable value="coverage"></variable>
               <variable value="item"></variable>
            </dependent>
         </rule>
         <rule>
            <name value="coverageivg"></name>
            <source>
               <context value="entry"></context>
               <type value="Coverage"></type>
               <element value="resource"></element>
               <variable value="coverage"></variable>
               <condition value="(type.coding.code = 'IVG') and (('Coverage' + '/' + $this.id) in %serviceRequest.insurance.reference)"></condition>
            </source>
            <dependent>
               <name value="CoverageIvg"></name>
               <variable value="coverage"></variable>
               <variable value="item"></variable>
            </dependent>
         </rule>
         <rule>
            <name value="coveragemvg"></name>
            <source>
               <context value="entry"></context>
               <type value="Coverage"></type>
               <element value="resource"></element>
               <variable value="coverage"></variable>
               <condition value="(type.coding.code = 'MVG') and (('Coverage' + '/' + $this.id) in %serviceRequest.insurance.reference)"></condition>
            </source>
            <dependent>
               <name value="CoverageMvg"></name>
               <variable value="coverage"></variable>
               <variable value="item"></variable>
            </dependent>
         </rule>
         <rule>
            <name value="coverageself"></name>
            <source>
               <context value="entry"></context>
               <type value="Coverage"></type>
               <element value="resource"></element>
               <variable value="coverage"></variable>
               <condition value="(type.coding.code = 'Self') and (('Coverage' + '/' + $this.id) in %serviceRequest.insurance.reference)"></condition>
            </source>
            <dependent>
               <name value="CoverageSelf"></name>
               <variable value="coverage"></variable>
               <variable value="item"></variable>
            </dependent>
         </rule>
         <rule>
            <name value="coverageother"></name>
            <source>
               <context value="entry"></context>
               <type value="Coverage"></type>
               <element value="resource"></element>
               <variable value="coverage"></variable>
               <condition value="(type.coding.code = 'Other') and (('Coverage' + '/' + $this.id) in %serviceRequest.insurance.reference)"></condition>
            </source>
            <dependent>
               <name value="CoverageOther"></name>
               <variable value="coverage"></variable>
               <variable value="item"></variable>
            </dependent>
         </rule>
      </rule>
   </group>
   <group>
      <name value="SenderToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="serviceRequest"></name>
         <type value="ServiceRequest"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="author"></name>
         <source>
            <context value="composition"></context>
            <element value="author"></element>
            <variable value="author"></variable>
         </source>
         <rule>
            <name value="bundle.entry"></name>
            <source>
               <context value="bundle"></context>
               <element value="entry"></element>
               <variable value="entry"></variable>
            </source>
            <rule>
               <name value="fullUrlAsUuid"></name>
               <source>
                  <context value="entry"></context>
                  <element value="fullUrl"></element>
                  <condition value="($this in %author.reference) and $this.startsWith('urn:uuid')"></condition>
               </source>
               <rule>
                  <name value="practitioner"></name>
                  <source>
                     <context value="entry"></context>
                     <type value="PractitionerRole"></type>
                     <element value="resource"></element>
                     <variable value="practitionerRole"></variable>
                  </source>
                  <dependent>
                     <name value="SenderPractitionerRoleToQr"></name>
                     <variable value="bundle"></variable>
                     <variable value="composition"></variable>
                     <variable value="practitionerRole"></variable>
                     <variable value="item"></variable>
                  </dependent>
               </rule>
            </rule>
            <rule>
               <name value="practitioner"></name>
               <source>
                  <context value="entry"></context>
                  <type value="PractitionerRoler"></type>
                  <element value="resource"></element>
                  <variable value="practitionerRole"></variable>
                  <condition value="('PractitionerRole' + '/' + $this.id) in %author.reference"></condition>
               </source>
               <dependent>
                  <name value="SenderPractitionerRoleToQr"></name>
                  <variable value="bundle"></variable>
                  <variable value="composition"></variable>
                  <variable value="practitionerRole"></variable>
                  <variable value="item"></variable>
               </dependent>
            </rule>
         </rule>
      </rule>
      <rule>
         <name value="dataenterer"></name>
         <source>
            <context value="composition"></context>
            <element value="extension"></element>
            <variable value="ext"></variable>
            <condition value="(url = 'http://fhir.ch/ig/ch-core/StructureDefinition/ch-ext-epr-dataenterer')"></condition>
         </source>
         <rule>
            <name value="enterer"></name>
            <source>
               <context value="ext"></context>
               <element value="extension"></element>
               <variable value="extension"></variable>
               <condition value="(url = 'enterer')"></condition>
            </source>
            <rule>
               <name value="extension.value"></name>
               <source>
                  <context value="extension"></context>
                  <element value="value"></element>
                  <variable value="value"></variable>
               </source>
               <rule>
                  <name value="bundle.entry"></name>
                  <source>
                     <context value="bundle"></context>
                     <element value="entry"></element>
                     <variable value="entry"></variable>
                  </source>
                  <rule>
                     <name value="fullUrlAsUuid"></name>
                     <source>
                        <context value="entry"></context>
                        <element value="fullUrl"></element>
                        <condition value="($this in %value.reference) and $this.startsWith('urn:uuid')"></condition>
                     </source>
                     <rule>
                        <name value="practitionerRole"></name>
                        <source>
                           <context value="entry"></context>
                           <type value="PractitionerRole"></type>
                           <element value="resource"></element>
                           <variable value="practitionerRole"></variable>
                        </source>
                        <dependent>
                           <name value="DataEntererPractitionerRoleToQr"></name>
                           <variable value="bundle"></variable>
                           <variable value="composition"></variable>
                           <variable value="practitionerRole"></variable>
                           <variable value="item"></variable>
                        </dependent>
                     </rule>
                  </rule>
                  <rule>
                     <name value="practitionerRole"></name>
                     <source>
                        <context value="entry"></context>
                        <type value="PractitionerRole"></type>
                        <element value="resource"></element>
                        <variable value="practitionerRole"></variable>
                        <condition value="('PractitionerRole' + '/' + $this.id) in %value.reference"></condition>
                     </source>
                     <dependent>
                        <name value="DataEntererPractitionerRoleToQr"></name>
                        <variable value="bundle"></variable>
                        <variable value="composition"></variable>
                        <variable value="practitionerRole"></variable>
                        <variable value="item"></variable>
                     </dependent>
                  </rule>
               </rule>
            </rule>
         </rule>
      </rule>
   </group>
   <group>
      <name value="SenderPractitionerRoleToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="practitionerRole"></name>
         <type value="PractitionerRole"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="itemsender"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="sender.author"></name>
         <source>
            <context value="composition"></context>
         </source>
         <target>
            <context value="itemsender"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemgroup"></variable>
         </target>
         <target>
            <context value="itemgroup"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="sender.author"></valueString>
            </parameter>
         </target>
         <rule>
            <name value="practitioner"></name>
            <source>
               <context value="practitionerRole"></context>
               <element value="practitioner"></element>
               <variable value="practitioner"></variable>
            </source>
            <target>
               <context value="itemgroup"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="sender.author.practitioner"></valueString>
               </parameter>
            </target>
            <rule>
               <name value="bundle.entry"></name>
               <source>
                  <context value="bundle"></context>
                  <element value="entry"></element>
                  <variable value="entry"></variable>
               </source>
               <rule>
                  <name value="fullUrlAsUuid"></name>
                  <source>
                     <context value="entry"></context>
                     <element value="fullUrl"></element>
                     <condition value="($this in %practitioner.reference) and $this.startsWith('urn:uuid')"></condition>
                  </source>
                  <rule>
                     <name value="practitioner"></name>
                     <source>
                        <context value="entry"></context>
                        <type value="Practitioner"></type>
                        <element value="resource"></element>
                        <variable value="practitioner"></variable>
                     </source>
                     <dependent>
                        <name value="SenderPractitionerToQr"></name>
                        <variable value="bundle"></variable>
                        <variable value="composition"></variable>
                        <variable value="practitioner"></variable>
                        <variable value="item"></variable>
                     </dependent>
                  </rule>
               </rule>
               <rule>
                  <name value="practitioner"></name>
                  <source>
                     <context value="entry"></context>
                     <type value="Practitioner"></type>
                     <element value="resource"></element>
                     <variable value="practitioner"></variable>
                     <condition value="('Practitioner' + '/' + $this.id) in %practitioner.reference"></condition>
                  </source>
                  <dependent>
                     <name value="SenderPractitionerToQr"></name>
                     <variable value="bundle"></variable>
                     <variable value="composition"></variable>
                     <variable value="practitioner"></variable>
                     <variable value="item"></variable>
                  </dependent>
               </rule>
            </rule>
         </rule>
         <rule>
            <name value="organization"></name>
            <source>
               <context value="practitionerRole"></context>
               <element value="organization"></element>
               <variable value="organization"></variable>
            </source>
            <target>
               <context value="itemgroup"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="sender.author.organization"></valueString>
               </parameter>
            </target>
            <rule>
               <name value="bundle.entry"></name>
               <source>
                  <context value="bundle"></context>
                  <element value="entry"></element>
                  <variable value="entry"></variable>
               </source>
               <rule>
                  <name value="fullUrlAsUuid"></name>
                  <source>
                     <context value="entry"></context>
                     <element value="fullUrl"></element>
                     <condition value="($this in %organization.reference) and $this.startsWith('urn:uuid')"></condition>
                  </source>
                  <rule>
                     <name value="organization"></name>
                     <source>
                        <context value="entry"></context>
                        <type value="Organization"></type>
                        <element value="resource"></element>
                        <variable value="organization"></variable>
                     </source>
                     <dependent>
                        <name value="SenderOrganizationToQr"></name>
                        <variable value="bundle"></variable>
                        <variable value="composition"></variable>
                        <variable value="organization"></variable>
                        <variable value="item"></variable>
                     </dependent>
                  </rule>
               </rule>
               <rule>
                  <name value="organization"></name>
                  <source>
                     <context value="entry"></context>
                     <type value="Organization"></type>
                     <element value="resource"></element>
                     <variable value="organization"></variable>
                     <condition value="('Organization' + '/' + $this.id) in %organization.reference"></condition>
                  </source>
                  <dependent>
                     <name value="SenderOrganizationToQr"></name>
                     <variable value="bundle"></variable>
                     <variable value="composition"></variable>
                     <variable value="practitioner"></variable>
                     <variable value="item"></variable>
                  </dependent>
               </rule>
            </rule>
         </rule>
      </rule>
   </group>
   <group>
      <name value="SenderPractitionerToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="practitioner"></name>
         <type value="Practitioner"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="name"></name>
         <source>
            <context value="practitioner"></context>
            <element value="name"></element>
            <variable value="name"></variable>
         </source>
         <rule>
            <name value="prefix"></name>
            <source>
               <context value="name"></context>
               <element value="prefix"></element>
               <variable value="prefix"></variable>
               <condition value="(extension.where((url = 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier') and (valueCode = 'AC')))"></condition>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="sender.author.practitioner.title"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="prefix"></valueId>
               </parameter>
            </target>
            <documentation value="sender.author.practitioner.title"></documentation>
         </rule>
         <rule>
            <name value="family"></name>
            <source>
               <context value="name"></context>
               <element value="family"></element>
               <variable value="family"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="sender.author.practitioner.familyName"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="family"></valueId>
               </parameter>
            </target>
            <documentation value="sender.author.practitioner.familyName"></documentation>
         </rule>
         <rule>
            <name value="given"></name>
            <source>
               <context value="name"></context>
               <element value="given"></element>
               <variable value="given"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="sender.author.practitioner.givenName"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="given"></valueId>
               </parameter>
            </target>
            <documentation value="sender.author.practitioner.givenName"></documentation>
         </rule>
      </rule>
      <rule>
         <name value="identifier"></name>
         <source>
            <context value="practitioner"></context>
            <element value="identifier"></element>
            <variable value="identifier"></variable>
            <condition value="(system = 'urn:oid:2.51.1.3')"></condition>
         </source>
         <rule>
            <name value="gln"></name>
            <source>
               <context value="identifier"></context>
               <element value="value"></element>
               <variable value="value"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="sender.author.practitioner.gln"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="cast"></transform>
               <parameter>
                  <valueId value="value"></valueId>
               </parameter>
               <parameter>
                  <valueString value="string"></valueString>
               </parameter>
            </target>
         </rule>
         <documentation value="sender.author.practitioner.gln"></documentation>
      </rule>
      <rule>
         <name value="phone"></name>
         <source>
            <context value="practitioner"></context>
            <element value="telecom"></element>
            <variable value="telecom"></variable>
            <condition value="(system = 'phone')"></condition>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="sender.author.practitioner.phone"></valueString>
            </parameter>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="telecom.value"></valueString>
            </parameter>
         </target>
         <documentation value="sender.author.practitioner.phone"></documentation>
      </rule>
      <rule>
         <name value="email"></name>
         <source>
            <context value="practitioner"></context>
            <element value="telecom"></element>
            <variable value="telecom"></variable>
            <condition value="(system = 'email')"></condition>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="sender.author.practitioner.email"></valueString>
            </parameter>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="telecom.value"></valueString>
            </parameter>
         </target>
         <documentation value="sender.author.practitioneremila"></documentation>
      </rule>
   </group>
   <group>
      <name value="SenderOrganizationToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="organization"></name>
         <type value="Organization"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="name"></name>
         <source>
            <context value="organization"></context>
            <element value="name"></element>
            <variable value="name"></variable>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="sender.author.organization.name"></valueString>
            </parameter>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueId value="name"></valueId>
            </parameter>
         </target>
         <documentation value="sender.author.organization.name"></documentation>
      </rule>
      <rule>
         <name value="addr"></name>
         <source>
            <context value="organization"></context>
            <element value="address"></element>
            <variable value="addr"></variable>
         </source>
         <rule>
            <name value="addrlinefirst"></name>
            <source>
               <context value="addr"></context>
               <element value="line"></element>
               <listMode value="first"></listMode>
               <variable value="line1"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="sender.author.organization.streetAddressLine"></valueString>
               </parameter>
            </target>
            <rule>
               <name value="line"></name>
               <source>
                  <context value="addr"></context>
                  <element value="line"></element>
                  <variable value="line"></variable>
               </source>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="answer"></element>
                  <variable value="answer"></variable>
               </target>
               <target>
                  <context value="answer"></context>
                  <contextType value="variable"></contextType>
                  <element value="value"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueId value="line"></valueId>
                  </parameter>
               </target>
            </rule>
         </rule>
         <rule>
            <name value="postalCode"></name>
            <source>
               <context value="addr"></context>
               <element value="postalCode"></element>
               <variable value="postalCode"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="sender.author.organization.postalCode"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="postalCode"></valueId>
               </parameter>
            </target>
            <documentation value="sender.author.organization.postalCode"></documentation>
         </rule>
         <rule>
            <name value="city"></name>
            <source>
               <context value="addr"></context>
               <element value="city"></element>
               <variable value="city"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="sender.author.organization.city"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="city"></valueId>
               </parameter>
            </target>
            <documentation value="sender.author.organization.city"></documentation>
         </rule>
         <rule>
            <name value="country"></name>
            <source>
               <context value="addr"></context>
               <element value="country"></element>
               <variable value="country"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="sender.author.organization.country"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="country"></valueId>
               </parameter>
            </target>
            <documentation value="sender.author.organization.country"></documentation>
         </rule>
         <documentation value="sender.author.organization.streetAddressLine"></documentation>
      </rule>
   </group>
   <group>
      <name value="DataEntererPractitionerRoleToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="practitionerRole"></name>
         <type value="PractitionerRole"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="itemsender"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="sender.dataenterer"></name>
         <source>
            <context value="composition"></context>
         </source>
         <target>
            <context value="itemsender"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="itemgroup"></variable>
         </target>
         <target>
            <context value="itemgroup"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="sender.dataenterer"></valueString>
            </parameter>
         </target>
         <rule>
            <name value="practitioner"></name>
            <source>
               <context value="practitionerRole"></context>
               <element value="practitioner"></element>
               <variable value="practitioner"></variable>
            </source>
            <target>
               <context value="itemgroup"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="sender.dataenterer.practitioner"></valueString>
               </parameter>
            </target>
            <rule>
               <name value="bundle.entry"></name>
               <source>
                  <context value="bundle"></context>
                  <element value="entry"></element>
                  <variable value="entry"></variable>
               </source>
               <rule>
                  <name value="fullUrlAsUuid"></name>
                  <source>
                     <context value="entry"></context>
                     <element value="fullUrl"></element>
                     <condition value="($this in %practitioner.reference) and $this.startsWith('urn:uuid')"></condition>
                  </source>
                  <rule>
                     <name value="practitioner"></name>
                     <source>
                        <context value="entry"></context>
                        <type value="Practitioner"></type>
                        <element value="resource"></element>
                        <variable value="practitioner"></variable>
                     </source>
                     <dependent>
                        <name value="DataEntererPractitionerToQr"></name>
                        <variable value="bundle"></variable>
                        <variable value="composition"></variable>
                        <variable value="practitioner"></variable>
                        <variable value="item"></variable>
                     </dependent>
                  </rule>
               </rule>
               <rule>
                  <name value="practitioner"></name>
                  <source>
                     <context value="entry"></context>
                     <type value="Practitioner"></type>
                     <element value="resource"></element>
                     <variable value="practitioner"></variable>
                     <condition value="('Practitioner' + '/' + $this.id) in %practitioner.reference"></condition>
                  </source>
                  <dependent>
                     <name value="DataEntererPractitionerToQr"></name>
                     <variable value="bundle"></variable>
                     <variable value="composition"></variable>
                     <variable value="practitioner"></variable>
                     <variable value="item"></variable>
                  </dependent>
               </rule>
            </rule>
         </rule>
      </rule>
   </group>
   <group>
      <name value="DataEntererPractitionerToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="practitioner"></name>
         <type value="Practitioner"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="name"></name>
         <source>
            <context value="practitioner"></context>
            <element value="name"></element>
            <variable value="name"></variable>
         </source>
         <rule>
            <name value="family"></name>
            <source>
               <context value="name"></context>
               <element value="family"></element>
               <variable value="family"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="sender.dataenterer.practitioner.familyName"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="family"></valueId>
               </parameter>
            </target>
         </rule>
         <rule>
            <name value="given"></name>
            <source>
               <context value="name"></context>
               <element value="given"></element>
               <variable value="given"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="sender.dataenterer.practitioner.givenName"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="given"></valueId>
               </parameter>
            </target>
            <documentation value="sender.dataenterer.practitioner.givenName"></documentation>
         </rule>
         <documentation value="sender.dataenterer.practitioner.familyName"></documentation>
      </rule>
      <rule>
         <name value="phone"></name>
         <source>
            <context value="practitioner"></context>
            <element value="telecom"></element>
            <variable value="telecom"></variable>
            <condition value="(system = 'phone')"></condition>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="sender.dataenterer.practitioner.phone"></valueString>
            </parameter>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="telecom.value"></valueString>
            </parameter>
         </target>
         <documentation value="sender.dataenterer.practitioner.phone"></documentation>
      </rule>
      <rule>
         <name value="email"></name>
         <source>
            <context value="practitioner"></context>
            <element value="telecom"></element>
            <variable value="telecom"></variable>
            <condition value="(system = 'email')"></condition>
         </source>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="sender.dataenterer.practitioner.email"></valueString>
            </parameter>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="answer"></element>
            <variable value="answer"></variable>
         </target>
         <target>
            <context value="answer"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="telecom.value"></valueString>
            </parameter>
         </target>
         <documentation value="sender.dataenterer.practitioner.email"></documentation>
      </rule>
   </group>
   <group>
      <name value="ReceiverCopyToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="serviceRequest"></name>
         <type value="ServiceRequest"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="extension"></name>
         <source>
            <context value="composition"></context>
            <element value="extension"></element>
            <variable value="extension"></variable>
            <condition value="(url = 'http://fhir.ch/ig/ch-orf/StructureDefinition/ch-orf-copyreceiver')"></condition>
         </source>
         <rule>
            <name value="extension.value"></name>
            <source>
               <context value="extension"></context>
               <element value="value"></element>
               <variable value="value"></variable>
            </source>
            <rule>
               <name value="bundle.entry"></name>
               <source>
                  <context value="bundle"></context>
                  <element value="entry"></element>
                  <variable value="entry"></variable>
               </source>
               <rule>
                  <name value="fullUrlAsUuid"></name>
                  <source>
                     <context value="entry"></context>
                     <element value="fullUrl"></element>
                     <condition value="($this in %value.reference) and $this.startsWith('urn:uuid')"></condition>
                  </source>
                  <rule>
                     <name value="organization"></name>
                     <source>
                        <context value="entry"></context>
                        <type value="Organization"></type>
                        <element value="resource"></element>
                        <variable value="organization"></variable>
                     </source>
                     <dependent>
                        <name value="ReceiverCopyOrganizationToQr"></name>
                        <variable value="bundle"></variable>
                        <variable value="composition"></variable>
                        <variable value="organization"></variable>
                        <variable value="item"></variable>
                     </dependent>
                  </rule>
                  <rule>
                     <name value="patient"></name>
                     <source>
                        <context value="entry"></context>
                        <type value="Patient"></type>
                        <element value="resource"></element>
                        <variable value="patient"></variable>
                     </source>
                     <dependent>
                        <name value="ReceiverCopyPatientToQr"></name>
                        <variable value="bundle"></variable>
                        <variable value="composition"></variable>
                        <variable value="patient"></variable>
                        <variable value="item"></variable>
                     </dependent>
                  </rule>
               </rule>
               <rule>
                  <name value="organization"></name>
                  <source>
                     <context value="entry"></context>
                     <type value="Organization"></type>
                     <element value="resource"></element>
                     <variable value="organization"></variable>
                     <condition value="('Organization' + '/' + $this.id) in %value.reference"></condition>
                  </source>
                  <dependent>
                     <name value="ReceiverCopyOrganizationToQr"></name>
                     <variable value="bundle"></variable>
                     <variable value="composition"></variable>
                     <variable value="organization"></variable>
                     <variable value="item"></variable>
                  </dependent>
               </rule>
               <rule>
                  <name value="patient"></name>
                  <source>
                     <context value="entry"></context>
                     <type value="Patient"></type>
                     <element value="resource"></element>
                     <variable value="patient"></variable>
                     <condition value="('Patient' + '/' + $this.id) in %value.reference"></condition>
                  </source>
                  <dependent>
                     <name value="ReceiverCopyPatientToQr"></name>
                     <variable value="bundle"></variable>
                     <variable value="composition"></variable>
                     <variable value="patient"></variable>
                     <variable value="item"></variable>
                  </dependent>
               </rule>
            </rule>
         </rule>
      </rule>
   </group>
   <group>
      <name value="ReceiverCopyOrganizationToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="organization"></name>
         <type value="Organization"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="itemsender"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="organization"></name>
         <source>
            <context value="organization"></context>
         </source>
         <target>
            <context value="itemsender"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="receiverCopy"></valueString>
            </parameter>
         </target>
         <rule>
            <name value="name"></name>
            <source>
               <context value="organization"></context>
               <element value="name"></element>
               <variable value="name"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="receiverCopy.organization.name"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="name"></valueId>
               </parameter>
            </target>
            <documentation value="receiverCopy.organization.name"></documentation>
         </rule>
         <rule>
            <name value="contact"></name>
            <source>
               <context value="organization"></context>
               <element value="contact"></element>
               <variable value="contact"></variable>
            </source>
            <rule>
               <name value="name"></name>
               <source>
                  <context value="contact"></context>
                  <element value="name"></element>
                  <variable value="name"></variable>
               </source>
               <rule>
                  <name value="prefix"></name>
                  <source>
                     <context value="name"></context>
                     <element value="prefix"></element>
                     <variable value="prefix"></variable>
                     <condition value="(extension.where((url = 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier') and (valueCode = 'AC')))"></condition>
                  </source>
                  <target>
                     <context value="item"></context>
                     <contextType value="variable"></contextType>
                     <element value="item"></element>
                     <variable value="item"></variable>
                  </target>
                  <target>
                     <context value="item"></context>
                     <contextType value="variable"></contextType>
                     <element value="linkId"></element>
                     <transform value="copy"></transform>
                     <parameter>
                        <valueString value="receiverCopy.title"></valueString>
                     </parameter>
                  </target>
                  <target>
                     <context value="item"></context>
                     <contextType value="variable"></contextType>
                     <element value="answer"></element>
                     <variable value="answer"></variable>
                  </target>
                  <target>
                     <context value="answer"></context>
                     <contextType value="variable"></contextType>
                     <element value="value"></element>
                     <transform value="copy"></transform>
                     <parameter>
                        <valueId value="prefix"></valueId>
                     </parameter>
                  </target>
                  <documentation value="receiverCopy.title"></documentation>
               </rule>
               <rule>
                  <name value="family"></name>
                  <source>
                     <context value="name"></context>
                     <element value="family"></element>
                     <variable value="family"></variable>
                  </source>
                  <target>
                     <context value="item"></context>
                     <contextType value="variable"></contextType>
                     <element value="item"></element>
                     <variable value="item"></variable>
                  </target>
                  <target>
                     <context value="item"></context>
                     <contextType value="variable"></contextType>
                     <element value="linkId"></element>
                     <transform value="copy"></transform>
                     <parameter>
                        <valueString value="receiverCopy.familyName"></valueString>
                     </parameter>
                  </target>
                  <target>
                     <context value="item"></context>
                     <contextType value="variable"></contextType>
                     <element value="answer"></element>
                     <variable value="answer"></variable>
                  </target>
                  <target>
                     <context value="answer"></context>
                     <contextType value="variable"></contextType>
                     <element value="value"></element>
                     <transform value="copy"></transform>
                     <parameter>
                        <valueId value="family"></valueId>
                     </parameter>
                  </target>
                  <documentation value="receiverCopy.familyName"></documentation>
               </rule>
               <rule>
                  <name value="given"></name>
                  <source>
                     <context value="name"></context>
                     <element value="given"></element>
                     <variable value="given"></variable>
                  </source>
                  <target>
                     <context value="item"></context>
                     <contextType value="variable"></contextType>
                     <element value="item"></element>
                     <variable value="item"></variable>
                  </target>
                  <target>
                     <context value="item"></context>
                     <contextType value="variable"></contextType>
                     <element value="linkId"></element>
                     <transform value="copy"></transform>
                     <parameter>
                        <valueString value="receiverCopy.givenName"></valueString>
                     </parameter>
                  </target>
                  <target>
                     <context value="item"></context>
                     <contextType value="variable"></contextType>
                     <element value="answer"></element>
                     <variable value="answer"></variable>
                  </target>
                  <target>
                     <context value="answer"></context>
                     <contextType value="variable"></contextType>
                     <element value="value"></element>
                     <transform value="copy"></transform>
                     <parameter>
                        <valueId value="given"></valueId>
                     </parameter>
                  </target>
                  <documentation value="receiverCopy.givenName"></documentation>
               </rule>
            </rule>
         </rule>
         <rule>
            <name value="phone"></name>
            <source>
               <context value="organization"></context>
               <element value="telecom"></element>
               <variable value="telecom"></variable>
               <condition value="(system = 'phone')"></condition>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="receiverCopy.phone"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="evaluate"></transform>
               <parameter>
                  <valueString value="telecom.value"></valueString>
               </parameter>
            </target>
            <documentation value="receiverCopy.phone"></documentation>
         </rule>
         <rule>
            <name value="email"></name>
            <source>
               <context value="organization"></context>
               <element value="telecom"></element>
               <variable value="telecom"></variable>
               <condition value="(system = 'email')"></condition>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="receiverCopy.email"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="evaluate"></transform>
               <parameter>
                  <valueString value="telecom.value"></valueString>
               </parameter>
            </target>
            <documentation value="receiverCopy.email"></documentation>
         </rule>
         <rule>
            <name value="addr"></name>
            <source>
               <context value="organization"></context>
               <element value="address"></element>
               <variable value="addr"></variable>
            </source>
            <rule>
               <name value="addrlinefirst"></name>
               <source>
                  <context value="addr"></context>
                  <element value="line"></element>
                  <listMode value="first"></listMode>
                  <variable value="line1"></variable>
               </source>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="item"></element>
                  <variable value="item"></variable>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="linkId"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueString value="receiverCopy.streetAddressLine"></valueString>
                  </parameter>
               </target>
               <rule>
                  <name value="line"></name>
                  <source>
                     <context value="addr"></context>
                     <element value="line"></element>
                     <variable value="line"></variable>
                  </source>
                  <target>
                     <context value="item"></context>
                     <contextType value="variable"></contextType>
                     <element value="answer"></element>
                     <variable value="answer"></variable>
                  </target>
                  <target>
                     <context value="answer"></context>
                     <contextType value="variable"></contextType>
                     <element value="value"></element>
                     <transform value="copy"></transform>
                     <parameter>
                        <valueId value="line"></valueId>
                     </parameter>
                  </target>
               </rule>
            </rule>
            <rule>
               <name value="postalCode"></name>
               <source>
                  <context value="addr"></context>
                  <element value="postalCode"></element>
                  <variable value="postalCode"></variable>
               </source>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="item"></element>
                  <variable value="item"></variable>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="linkId"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueString value="receiverCopy.postalCode"></valueString>
                  </parameter>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="answer"></element>
                  <variable value="answer"></variable>
               </target>
               <target>
                  <context value="answer"></context>
                  <contextType value="variable"></contextType>
                  <element value="value"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueId value="postalCode"></valueId>
                  </parameter>
               </target>
               <documentation value="receiverCopy.postalCode"></documentation>
            </rule>
            <rule>
               <name value="city"></name>
               <source>
                  <context value="addr"></context>
                  <element value="city"></element>
                  <variable value="city"></variable>
               </source>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="item"></element>
                  <variable value="item"></variable>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="linkId"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueString value="receiverCopy.city"></valueString>
                  </parameter>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="answer"></element>
                  <variable value="answer"></variable>
               </target>
               <target>
                  <context value="answer"></context>
                  <contextType value="variable"></contextType>
                  <element value="value"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueId value="city"></valueId>
                  </parameter>
               </target>
               <documentation value="receiverCopy.city"></documentation>
            </rule>
            <rule>
               <name value="country"></name>
               <source>
                  <context value="addr"></context>
                  <element value="country"></element>
                  <variable value="country"></variable>
               </source>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="item"></element>
                  <variable value="item"></variable>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="linkId"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueString value="receiverCopy.country"></valueString>
                  </parameter>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="answer"></element>
                  <variable value="answer"></variable>
               </target>
               <target>
                  <context value="answer"></context>
                  <contextType value="variable"></contextType>
                  <element value="value"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueId value="country"></valueId>
                  </parameter>
               </target>
               <documentation value="receiverCopy.country"></documentation>
            </rule>
            <documentation value="receiverCopy.organization.streetAddressLine"></documentation>
         </rule>
      </rule>
   </group>
   <group>
      <name value="ReceiverCopyPatientToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="bundle"></name>
         <type value="Bundle"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="composition"></name>
         <type value="Composition"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="patient"></name>
         <type value="Patient"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="itemsender"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="patient"></name>
         <source>
            <context value="patient"></context>
         </source>
         <target>
            <context value="itemsender"></context>
            <contextType value="variable"></contextType>
            <element value="item"></element>
            <variable value="item"></variable>
         </target>
         <target>
            <context value="item"></context>
            <contextType value="variable"></contextType>
            <element value="linkId"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="receiverCopy"></valueString>
            </parameter>
         </target>
         <rule>
            <name value="name"></name>
            <source>
               <context value="patient"></context>
               <element value="name"></element>
               <variable value="name"></variable>
            </source>
            <rule>
               <name value="family"></name>
               <source>
                  <context value="name"></context>
                  <element value="family"></element>
                  <variable value="family"></variable>
               </source>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="item"></element>
                  <variable value="item"></variable>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="linkId"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueString value="receiverCopy.familyName"></valueString>
                  </parameter>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="answer"></element>
                  <variable value="answer"></variable>
               </target>
               <target>
                  <context value="answer"></context>
                  <contextType value="variable"></contextType>
                  <element value="value"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueId value="family"></valueId>
                  </parameter>
               </target>
               <documentation value="receiverCopy.familyName"></documentation>
            </rule>
            <rule>
               <name value="given"></name>
               <source>
                  <context value="name"></context>
                  <element value="given"></element>
                  <variable value="given"></variable>
               </source>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="item"></element>
                  <variable value="item"></variable>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="linkId"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueString value="receiverCopy.givenName"></valueString>
                  </parameter>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="answer"></element>
                  <variable value="answer"></variable>
               </target>
               <target>
                  <context value="answer"></context>
                  <contextType value="variable"></contextType>
                  <element value="value"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueId value="given"></valueId>
                  </parameter>
               </target>
               <documentation value="receiverCopy.givenName"></documentation>
            </rule>
            <rule>
               <name value="prefix"></name>
               <source>
                  <context value="name"></context>
                  <element value="prefix"></element>
                  <variable value="prefix"></variable>
                  <condition value="(extension.where((url = 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier') and (valueCode = 'AC')))"></condition>
               </source>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="item"></element>
                  <variable value="item"></variable>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="linkId"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueString value="receiverCopy.title"></valueString>
                  </parameter>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="answer"></element>
                  <variable value="answer"></variable>
               </target>
               <target>
                  <context value="answer"></context>
                  <contextType value="variable"></contextType>
                  <element value="value"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueId value="prefix"></valueId>
                  </parameter>
               </target>
               <documentation value="receiverCopy.title"></documentation>
            </rule>
         </rule>
         <rule>
            <name value="phone"></name>
            <source>
               <context value="patient"></context>
               <element value="telecom"></element>
               <variable value="telecom"></variable>
               <condition value="(system = 'phone')"></condition>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="receiverCopy.phone"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="evaluate"></transform>
               <parameter>
                  <valueString value="telecom.value"></valueString>
               </parameter>
            </target>
            <documentation value="receiverCopy.phone"></documentation>
         </rule>
         <rule>
            <name value="email"></name>
            <source>
               <context value="patient"></context>
               <element value="telecom"></element>
               <variable value="telecom"></variable>
               <condition value="(system = 'email')"></condition>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="receiverCopy.email"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="evaluate"></transform>
               <parameter>
                  <valueString value="telecom.value"></valueString>
               </parameter>
            </target>
            <documentation value="receiverCopy.email"></documentation>
         </rule>
         <rule>
            <name value="addr"></name>
            <source>
               <context value="patient"></context>
               <element value="address"></element>
               <variable value="addr"></variable>
            </source>
            <rule>
               <name value="addrlinefirst"></name>
               <source>
                  <context value="addr"></context>
                  <element value="line"></element>
                  <listMode value="first"></listMode>
                  <variable value="line1"></variable>
               </source>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="item"></element>
                  <variable value="item"></variable>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="linkId"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueString value="receiverCopy.streetAddressLine"></valueString>
                  </parameter>
               </target>
               <rule>
                  <name value="line"></name>
                  <source>
                     <context value="addr"></context>
                     <element value="line"></element>
                     <variable value="line"></variable>
                  </source>
                  <target>
                     <context value="item"></context>
                     <contextType value="variable"></contextType>
                     <element value="answer"></element>
                     <variable value="answer"></variable>
                  </target>
                  <target>
                     <context value="answer"></context>
                     <contextType value="variable"></contextType>
                     <element value="value"></element>
                     <transform value="copy"></transform>
                     <parameter>
                        <valueId value="line"></valueId>
                     </parameter>
                  </target>
               </rule>
            </rule>
            <rule>
               <name value="postalCode"></name>
               <source>
                  <context value="addr"></context>
                  <element value="postalCode"></element>
                  <variable value="postalCode"></variable>
               </source>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="item"></element>
                  <variable value="item"></variable>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="linkId"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueString value="receiverCopy.postalCode"></valueString>
                  </parameter>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="answer"></element>
                  <variable value="answer"></variable>
               </target>
               <target>
                  <context value="answer"></context>
                  <contextType value="variable"></contextType>
                  <element value="value"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueId value="postalCode"></valueId>
                  </parameter>
               </target>
               <documentation value="receiverCopy.postalCode"></documentation>
            </rule>
            <rule>
               <name value="city"></name>
               <source>
                  <context value="addr"></context>
                  <element value="city"></element>
                  <variable value="city"></variable>
               </source>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="item"></element>
                  <variable value="item"></variable>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="linkId"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueString value="receiverCopy.city"></valueString>
                  </parameter>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="answer"></element>
                  <variable value="answer"></variable>
               </target>
               <target>
                  <context value="answer"></context>
                  <contextType value="variable"></contextType>
                  <element value="value"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueId value="city"></valueId>
                  </parameter>
               </target>
               <documentation value="receiverCopy.city"></documentation>
            </rule>
            <rule>
               <name value="country"></name>
               <source>
                  <context value="addr"></context>
                  <element value="country"></element>
                  <variable value="country"></variable>
               </source>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="item"></element>
                  <variable value="item"></variable>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="linkId"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueString value="receiverCopy.country"></valueString>
                  </parameter>
               </target>
               <target>
                  <context value="item"></context>
                  <contextType value="variable"></contextType>
                  <element value="answer"></element>
                  <variable value="answer"></variable>
               </target>
               <target>
                  <context value="answer"></context>
                  <contextType value="variable"></contextType>
                  <element value="value"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueId value="country"></valueId>
                  </parameter>
               </target>
               <documentation value="receiverCopy.country"></documentation>
            </rule>
            <documentation value="receiverCopy.organization.streetAddressLine"></documentation>
         </rule>
      </rule>
   </group>
   <group>
      <name value="NoteToQr"></name>
      <typeMode value="none"></typeMode>
      <input>
         <name value="serviceRequest"></name>
         <type value="ServiceRequest"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="item"></name>
         <type value="BackboneElement"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="note"></name>
         <source>
            <context value="serviceRequest"></context>
            <element value="note"></element>
            <variable value="note"></variable>
         </source>
         <rule>
            <name value="note.text"></name>
            <source>
               <context value="note"></context>
               <element value="text"></element>
               <variable value="text"></variable>
            </source>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="item"></element>
               <variable value="item"></variable>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="linkId"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="note.text"></valueString>
               </parameter>
            </target>
            <target>
               <context value="item"></context>
               <contextType value="variable"></contextType>
               <element value="answer"></element>
               <variable value="answer"></variable>
            </target>
            <target>
               <context value="answer"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="cast"></transform>
               <parameter>
                  <valueId value="text"></valueId>
               </parameter>
               <parameter>
                  <valueString value="string"></valueString>
               </parameter>
            </target>
         </rule>
      </rule>
   </group>
</StructureMap>